[{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"getting-started","dir":"Articles","previous_headings":"","what":"Getting started","title":"Introduction","text":"gentle casual welcome Monte Carlo risk analysis mcmodule R package. technical approach can read package official vignette. Formally, mcmodule framework building modular Monte Carlo risk analysis models. extends capabilities mc2d make working multiple risk pathways, variates, scenarios easier. package includes tools creating stochastic objects data frames, visualizing results, performing uncertainty, sensitivity, convergence analysis. , mcmodule little set custom functions born necessity grew obsession. developed new R package find suitable tools creating complex risk analysis models involving thousands parameters, hundreds cases, dozens scenarios, multiple pathways R (software accessible epidemiologists like ). Eventually, effort lessons learned building smooth, large-scale risk analysis R went beyond keep just farmR!SK project. Now, hope package can help epidemiologists (risk modelers disciplines), save hours work, also ambitious design complex risk pathways knowing feasible evaluate R.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"risk-assessment","dir":"Articles","previous_headings":"Getting started","what":"Risk assessment","title":"Introduction","text":"section provides brief introduction risk assessment R. Although package intended beginners risk assessment, can help understand logic behind mcmodule purpose.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"a-simple-risk-assessment","dir":"Articles","previous_headings":"Getting started > Risk assessment","what":"A simple risk assessment","title":"Introduction","text":"Imagine want buy heifer. found good deal farm know infected pathogen , disease farm free . reduce risk introducing disease farm, plan perform diagnostic test heifer bringing farm. want calculate probability introducing disease purchasing one heifer tests negative. estimation (uncertainty) probability animal infection within herd test sensitivity, want conduct stochastic risk assessment properly accounts uncertainty. Risk assessment technique estimate probability impact “adverse”1 event. identifies steps necessary event occur assigns probability. Monte Carlo simulation technique used model analyse uncertainty (Vose 2008). risk assessment cattle purchase can performed using base R (2024) random sampling functions, mc2d (Pouillot Delignette-Muller 2010), package provides additional probability distributions (rpert) useful tools analysing stochastic (Monte-Carlo) simulations.","code":"library(mc2d) set.seed(123) n_iterations <- 10000  # Within-herd prevalence w_prev <- mcstoc(runif, min = 0.15, max = 0.2,                   nsu = n_iterations, type=\"U\") # Test sensitivity test_sensi <- mcstoc(rpert, min = 0.89, mode = 0.9, max = 0.91,                       nsu = n_iterations, type=\"U\") # Probability an animal is tested in origin test_origin <- mcdata(1, type=\"0\") #Yes   # EXPRESSIONS # Probability that an animal in an infected herd is infected (a = animal) infected <- w_prev # Probability an animal is tested and is a false negative  # (test specificity assumed to be 100%) false_neg <- infected * test_origin * (1 - test_sensi) # Probability an animal is not tested no_test <- infected * (1 - test_origin) # Probability an animal is not detected no_detect <- false_neg + no_test  mc_model<-mc(w_prev, infected, test_origin, test_sensi,               false_neg, no_test, no_detect)  # RESULT hist(mc_model) no_detect ##   node    mode nsv   nsu nva variate    min   mean median    max Nas type outm ## 1    x numeric   1 10000   1       1 0.0138 0.0175 0.0174 0.0218   0    U each"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"multiple-risk-assessments-at-once","dir":"Articles","previous_headings":"Getting started > Risk assessment","what":"Multiple risk assessments at once","title":"Introduction","text":"previous example, calculated risk one specific case. However, know farm also positive pathogen B, also interesting calculate risk introducing well. Pathogen B different within-herd prevalence test sensitivity Pathogen . estimate risk pathogens previous models, : Copy paste code twice different parameters (good coding practices) Wrap code function call twice using pathogen’s parameters arguments Create loop options work, become messy computationally intensive number parameters different situations simulate increases. package mc2d offers clever solution scalability problem: variates. package, parameters stored mcnode class objects. objects arrays numbers represent random variables three dimensions: variability × uncertainty × variates.  previous example, stochastic nodes uncertainty dimension. However, can now use variates dimension calculate risk introduction pathogens time. Instead manually typing parameter values, can also use columns data table mcdata(). useful template setting risk analysis models using mc2d, custom functions facilitate data manipulation visualization, can found repository: https://github.com/NataliaCiria/risk_analysis_template.","code":"set.seed(123) n_iterations <- 10000  # Within-herd prevalence w_prev_min <- mcdata(c(a = 0.15, b = 0.45), nvariates = 2, type=\"0\") w_prev_max <- mcdata(c(a = 0.2, b = 0.6), nvariates = 2, type=\"0\")  w_prev <- mcstoc(runif, min = w_prev_min, max = w_prev_max,                   nsu = n_iterations, nvariates = 2, type=\"U\")  # Test sensitivity test_sensi_min <- mcdata(c(a = 0.89, b = 0.80), nvariates = 2, type = \"0\") test_sensi_mode <- mcdata(c(a = 0.9, b = 0.85), nvariates = 2, type = \"0\") test_sensi_max <- mcdata(c(a = 0.91, b = 0.90), nvariates = 2, type = \"0\")  test_sensi <- mcstoc(rpert, min = test_sensi_min,                       mode = test_sensi_mode, max = test_sensi_max,                       nsu = n_iterations, nvariates = 2, type=\"U\")  # Probability an animal is tested in origin test_origin <- mcdata(c(a = 1, b = 1), nvariates = 2, type=\"0\")   # EXPRESSIONS # Probability that an animal in an infected herd is infected (a = animal) infected <- w_prev # Probability an animal is tested and is a false negative  # (test specificity assumed to be 100%) false_neg <- infected * test_origin * (1 - test_sensi) # Probability an animal is not tested no_test <- infected * (1 - test_origin) # Probability an animal is not detected no_detect <- false_neg + no_test  mc_model<-mc(w_prev, infected, test_origin, test_sensi,               false_neg, no_test, no_detect)  # RESULT no_detect ##   node    mode nsv   nsu nva variate    min   mean median    max Nas type outm ## 1    x numeric   1 10000   2       1 0.0139 0.0175 0.0174 0.0217   0    U each ## 2    x numeric   1 10000   2       2 0.0477 0.0787 0.0783 0.1178   0    U each"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"when-to-use-mcmodule","dir":"Articles","previous_headings":"Getting started","what":"When to use mcmodule?","title":"Introduction","text":"mc2d multivariate approach works well basic multivariate risk analysis. However, instead purchasing one cow, ’re dealing multiple cattle purchases, different farms, across different pathogens, scenarios, age categories, modeling multiple risk pathways different -scenarios, approach becomes unwieldy. mcmodule addresses challenges providing functions multivariate operations modular management risk model. automates process creating mcnodes assigns metadata (making easy identify variate corresponds data row). Thanks mcnode metadata, enables row-matching nodes different variates, combines probabilities across variates, calculates multilevel trials. risk analysis grows, can create separate modules different pathways, independent parameters, expressions, scenarios can later connected complete model. package particularly useful : Working complex models involve multiple pathways, pathogens, scenarios simultaneously Dealing large parameter sets (hundreds thousands parameters) Handling different numbers variates across different parts model need combined Creating modular risk assessments different components need developed independently later integrated (example collaborative projects) Performing sophisticated sensitivity analyses across multiple model components However, simpler analyses, single pathway models, exploratory work, small models parameters, one-analyses learning risk assessment mcmodule’s additional structure may unnecessary.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"installing-mcmodule","dir":"Articles","previous_headings":"Getting started","what":"Installing mcmodule","title":"Introduction","text":"Now let’s explore new package! ’s submitted CRAN, since ’s yet, ’ll install GitHub instead. load package R session. Easy-peasy, ready go! recommended packages load along mcmodule :","code":"# install.packages(\"devtools\") devtools::install_github(\"NataliaCiria/mcmodule\") library(mcmodule) # install.packages(c(\"dplyr\",\"ggplot2\",\"igraph\",\"visNetwork\")) library(dplyr)     # Data manipulation library(ggplot2)   # Plots library(igraph)    # Network analysis library(visNetwork)# Interactive network visualization"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"building-an-mcmodule","dir":"Articles","previous_headings":"","what":"Building an mcmodule","title":"Introduction","text":"quickly understand key components mcmodule, ’ll start building one using animal imports example included package. detailed view component, refer model elements section package vignette.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"data","dir":"Articles","previous_headings":"Building an mcmodule","what":"Data","title":"Introduction","text":"Let’s consider scenario want evaluate risk introducing pathogen pathogen B region animal imports different regions (north, south, east, west). gathered following data: animal_imports: number animal imports mean standard deviation values per region, number exporting farms region. prevalence_region: estimates herd within-herd prevalence ranges pathogens B, well indicator often tests performed origin test_sensitivity: estimates test sensitivity values pathogen B Now use dplyr::left_join() create imports module data:","code":"animal_imports ##   origin farms_n animals_n_mean animals_n_sd ## 1   nord       5            100            6 ## 2  south      10            130           10 ## 3   east       7            140           12 prevalence_region ##   pathogen origin h_prev_min h_prev_max w_prev_min w_prev_max test_origin ## 1        a   nord       0.08       0.10       0.15        0.2   sometimes ## 2        a  south       0.02       0.05       0.15        0.2   sometimes ## 3        a   east       0.10       0.15       0.15        0.2       never ## 4        b   nord       0.50       0.70       0.45        0.6      always ## 5        b  south       0.25       0.30       0.37        0.4   sometimes ## 6        b   east       0.30       0.50       0.45        0.6     unknown test_sensitivity ##   pathogen test_sensi_min test_sensi_mode test_sensi_max ## 1        a           0.89            0.90           0.91 ## 2        b           0.80            0.85           0.90 imports_data<-prevalence_region%>%    left_join(animal_imports)%>%    left_join(test_sensitivity)%>%    relocate(pathogen, origin, test_origin) ## Joining with `by = join_by(origin)` ## Joining with `by = join_by(pathogen)`"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"data-keys","dir":"Articles","previous_headings":"Building an mcmodule","what":"Data keys","title":"Introduction","text":"now use merged imports_data table. However, useful understand input dataset parameter comes , dataset provides information different keys. context, keys fields (combined) uniquely identify row table. example: animal_imports provided information region \"origin\" prevalence_region provided information \"pathogen\" region \"origin\" test_sensitivity provided information \"pathogen\" resulting merged table, imports_data, therefore two keys: \"pathogen\" \"origin\". However, parameters use keys, example, \"test_sensi\" information \"pathogen\". Knowing keys parameter crucial performing multivariate operations, calculating totals. make relationships explicit model, need provide data keys. defined list one element input dataset, specifying columns keys dataset.","code":"imports_data_keys <- list(   animal_imports =  list(     cols = names(animal_imports),     keys = \"origin\"   ),   prevalence_region = list(     cols = names(prevalence_region),     keys = c(\"pathogen\", \"origin\")   ),   test_sensitivity = list(     cols = names(test_sensitivity),     keys = \"pathogen\"   ) )"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"mcnodes-table","dir":"Articles","previous_headings":"Building an mcmodule","what":"mcnodes table","title":"Introduction","text":"values keys established, still need information build stochastic parameters. mcnode table specifies build mcnodes data table. specifies parameters included model, type parameters (mc_func stochastic), columns look data table build mcnodes (name mcnode, another variable data columns), well transformations usefull encode categorical data values mcnodes must always numeric. mcnode: Name Monte Carlo node (required) description: Description parameter mc_func: Probability distribution from_variable: Column name, comes column name different mcnode transformation: Transformation applied original column values sensi_analysis: Whether include sensitivity analysis imports_mctable example. mctable can hard-coded R, ’s efficient prepare CSV external file. approach also allows table included part model documentation. data table mctable must complement : mcnodes without mc_func (like farms_n), needs matching column name (\"farms_n\") data table mcnodes mc_func, need columns probability distribution argument data table. example: h_prev runif distribution requires \"h_prev_min\" \"h_prev_max\" animals_n rnorm distribution requires \"animals_n_mean\" \"animals_n_sd\" encoding categorical variables mcnodes (data transformation), can use R code value placeholder mcnode name column name (specified from_variable)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"expressions","dir":"Articles","previous_headings":"Building an mcmodule","what":"Expressions","title":"Introduction","text":"Finally, need write model’s mathematical expression. expressions ideally include arithmetic operations, R functions (exceptions covered later “tricks tweaks”). ’ll wrap using quote() aren’t executed immediately stored later evaluation eval_model().","code":"imports_exp<-quote({   # Probability that an animal in an infected herd is infected (a = animal)   infected <- w_prev   # Probability an animal is tested and is a false negative    # (test specificity assumed to be 100%)   false_neg <- infected * test_origin * (1 - test_sensi)   # Probability an animal is not tested   no_test <- infected * (1 - test_origin)   # Probability an animal is not detected   no_detect <- false_neg + no_test })"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"evaluating-an-mcmodule","dir":"Articles","previous_headings":"Building an mcmodule","what":"Evaluating an mcmodule","title":"Introduction","text":"components place, ’re now ready create first mcmodule using eval_module(). mcmodule S3 object class, essentially list contains risk assessment components structured format. mcmodule contains input data mathematical expressions (exp) ensure traceability. input calculated parameters stored node_list. node contains mcnode also important metadata: node type (input output), source dataset columns, keys, calculation method, . specific metadata varies depending node’s characteristics. examples: now mcmodule, can begin exploring possibilities!","code":"imports<-eval_module(   exp = c(imports=imports_exp),   data = imports_data,   mctable = imports_mctable,   data_keys = imports_data_keys ) ##  ## imports evaluated ##  ## mcmodule created (expressions: imports) class(imports) ## [1] \"mcmodule\" names(imports) ## [1] \"data\"      \"exp\"       \"node_list\" \"modules\" imports$node_list$w_prev ## $type ## [1] \"in_node\" ##  ## $mc_func ## [1] \"runif\" ##  ## $description ## [1] \"Within herd prevalence\" ##  ## $inputs_col ## [1] \"w_prev_min\" \"w_prev_max\" ##  ## $input_dataset ## [1] \"prevalence_region\" ##  ## $keys ## [1] \"pathogen\" \"origin\"   ##  ## $module ## [1] \"imports\" ##  ## $mc_name ## [1] \"w_prev\" ##  ## $mcnode ##   node    mode  nsv nsu nva variate  min  mean median max Nas type outm ## 1    x numeric 1001   1   6       1 0.15 0.175  0.175 0.2   0    V each ## 2    x numeric 1001   1   6       2 0.15 0.175  0.173 0.2   0    V each ## 3    x numeric 1001   1   6       3 0.15 0.176  0.176 0.2   0    V each ## 4    x numeric 1001   1   6       4 0.45 0.524  0.524 0.6   0    V each ## 5    x numeric 1001   1   6       5 0.37 0.385  0.385 0.4   0    V each ## 6    x numeric 1001   1   6       6 0.45 0.525  0.525 0.6   0    V each ##  ## $data_name ## [1] \"imports_data\" imports$node_list$no_detect ## $node_exp ## [1] \"false_neg + no_test\" ##  ## $type ## [1] \"out_node\" ##  ## $inputs ## [1] \"false_neg\" \"no_test\"   ##  ## $module ## [1] \"imports\" ##  ## $mc_name ## [1] \"no_detect\" ##  ## $keys ## [1] \"pathogen\" \"origin\"   ##  ## $param ## [1] \"false_neg\" \"no_test\"   ##  ## $mcnode ##   node    mode  nsv nsu nva variate    min   mean median   max Nas type outm ## 1    x numeric 1001   1   6       1 0.0823 0.0961 0.0962 0.111   0    V each ## 2    x numeric 1001   1   6       2 0.0821 0.0960 0.0954 0.110   0    V each ## 3    x numeric 1001   1   6       3 0.1501 0.1758 0.1758 0.200   0    V each ## 4    x numeric 1001   1   6       4 0.0473 0.0789 0.0783 0.113   0    V each ## 5    x numeric 1001   1   6       5 0.2056 0.2216 0.2216 0.237   0    V each ## 6    x numeric 1001   1   6       6 0.4501 0.5250 0.5251 0.600   0    V each ##  ## $data_name ## [1] \"imports_data\""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"understanding-mcnodes-operations","dir":"Articles","previous_headings":"Building an mcmodule","what":"Understanding mcnodes operations","title":"Introduction","text":"arithmetic operations performed nodes mcmodule, applied matching elements keep original dimensions, allowing uncertainties variates propagate calculations.","code":""},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"visualizing","dir":"Articles","previous_headings":"Working with an mcmodule","what":"Visualizing","title":"Introduction","text":"can visualize mc_module mc_network() function. need igraph (Csardi Nepusz 2006) visNetwork (Almende B. V. Benoit Thieurmel 2025) installed. network visualizations, input datasets appear blue, input data files, input columns input mcnodes appear different shades dark-grey-blue, output mcnodes green, total mcnodes (see later) orange. numbers displayed clicked correspond median 95% confidence interval first variate mcnode.","code":"mc_network(imports, legend = TRUE)"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"sec-calculating-totals","dir":"Articles","previous_headings":"Working with an mcmodule","what":"Summarizing","title":"Introduction","text":"imports mcmodule, can already see raw mcnode results probability imported animal detected (no_detect). However, ’s difficult determine pathogen region results refer . mc_summary() function solves problem linking mcnode results key columns data. Note printed summary looks similar raw mcnode, ’s actually just dataframe containing statistical measures, whereas actual mcnode large array numbers dimensions (uncertainty × 1 × variates),","code":"mc_summary(mcmodule = imports, mc_name = \"no_detect\") ##     mc_name pathogen origin       mean          sd        Min       2.5% ## 1 no_detect        a   nord 0.09606117 0.007846092 0.08229964 0.08315677 ## 2 no_detect        a  south 0.09600480 0.007853480 0.08211744 0.08335069 ## 3 no_detect        a   east 0.17576742 0.014232780 0.15012421 0.15143865 ## 4 no_detect        b   nord 0.07893257 0.011945867 0.04733962 0.05755650 ## 5 no_detect        b  south 0.22158127 0.006342677 0.20562155 0.21003466 ## 6 no_detect        b   east 0.52501566 0.044450307 0.45010788 0.45180481 ##          25%        50%        75%     97.5%       Max  nsv Na's ## 1 0.08935080 0.09624474 0.10277116 0.1091880 0.1106308 1001    0 ## 2 0.08962080 0.09541026 0.10270101 0.1094114 0.1103462 1001    0 ## 3 0.16410730 0.17582400 0.18797380 0.1986464 0.1999425 1001    0 ## 4 0.06985123 0.07826653 0.08704084 0.1028250 0.1130751 1001    0 ## 5 0.21693959 0.22159777 0.22614771 0.2338717 0.2372087 1001    0 ## 6 0.48700830 0.52505400 0.56319271 0.5974721 0.5999797 1001    0"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"calculating-totals","dir":"Articles","previous_headings":"Working with an mcmodule","what":"Calculating totals","title":"Introduction","text":"following probability calculations based Chapter 5 Handbook Import Risk Analysis Animals Animal Products Volume 2. Quantitative risk assessment (Murray 2004).","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"single-level-trials","dir":"Articles","previous_headings":"Working with an mcmodule > Calculating totals","what":"Single-level trials","title":"Introduction","text":"imports, know probability infected animal infected farm goes undetected (\"no_detect\"). can use total number animals selected per farm (\"animals_n\") number trials (trials_n) determine probability least one infected animal infected farm detected (no_detect_set). single-level trials, trial independent probability success (trial_ptrial\\_p). set trials_ntrials\\_n trials, probability least one success : set_p=1−(1−trial_p)trials_n set\\_p= 1-(1-trial\\_p)^{trials\\_n} trial_totals() function returns mcmodule additional nodes: probability least one success expected number successes. total nodes special metadata fields, always include summary default.","code":"# Probability of at least one imported animal from an infected herd is not detected  imports <- trial_totals(   mcmodule = imports,   mc_names = \"no_detect\",   trials_n = \"animals_n\",   mctable = imports_mctable ) # Probability of at least one imports$node_list$no_detect_set$summary ##         mc_name pathogen origin      mean           sd       Min      2.5% ## 1 no_detect_set        a   nord 0.9999321 7.013890e-05 0.9994040 0.9997494 ## 2 no_detect_set        a  south 0.9999946 9.023932e-06 0.9999207 0.9999693 ## 3 no_detect_set        a   east 1.0000000 7.143640e-10 1.0000000 1.0000000 ## 4 no_detect_set        b   nord 0.9993863 9.111167e-04 0.9878926 0.9969435 ## 5 no_detect_set        b  south 1.0000000 8.284954e-13 1.0000000 1.0000000 ## 6 no_detect_set        b   east 1.0000000 0.000000e+00 1.0000000 1.0000000 ##         25%       50%       75%     97.5%       Max  nsv Na's ## 1 0.9999111 0.9999592 0.9999798 0.9999942 0.9999990 1001    0 ## 2 0.9999940 0.9999979 0.9999993 0.9999999 1.0000000 1001    0 ## 3 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1001    0 ## 4 0.9992577 0.9997108 0.9998988 0.9999820 0.9999967 1001    0 ## 5 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1001    0 ## 6 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 1001    0 # Expected number of animals imports$node_list$no_detect_set_n$summary ##           mc_name pathogen origin      mean        sd       Min      2.5% ## 1 no_detect_set_n        a   nord  9.589398 0.9471878  7.098067  7.925178 ## 2 no_detect_set_n        a  south 12.457595 1.3808264  9.034427  9.929288 ## 3 no_detect_set_n        a   east 24.646773 2.8240560 16.479434 19.584162 ## 4 no_detect_set_n        b   nord  7.888526 1.2851499  4.308618  5.606024 ## 5 no_detect_set_n        b  south 28.924510 2.4160939 21.816997 24.386809 ## 6 no_detect_set_n        b   east 73.810011 9.1186665 49.777486 56.520429 ##         25%       50%       75%    97.5%       Max  nsv Na's ## 1  8.899716  9.604395 10.255537 11.39188  13.10031 1001    0 ## 2 11.445423 12.454098 13.394556 15.13293  16.59565 1001    0 ## 3 22.596941 24.540466 26.556945 30.52778  33.49197 1001    0 ## 4  6.953646  7.820599  8.794037 10.42509  11.94095 1001    0 ## 5 27.267935 28.918348 30.489151 33.80466  35.92125 1001    0 ## 6 67.359386 73.486767 80.290275 91.55168 104.93881 1001    0"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"simple-multilevel","dir":"Articles","previous_headings":"Working with an mcmodule > Calculating totals > Multilevel trials","what":"Simple multilevel","title":"Introduction","text":"can also calculate probability least one infected animal least one infected farm detected, , need consider two levels: animals farms. import animals \"farms_n\" farms. farm probability \"h_prev\" (regional herd prevalence) infected. farm, import \"animals_n\" animals. infected farm, animal probability \"w_prev\" (within-herd prevalence) infected. ’ve already used calculate \"no_detect\", probability infected animal detected.  probability least one success hierarchical structure given : set_p=1−(1−subset_p⋅(1−(1−trial_p)trial_n))subset_n set\\_p= 1-(1-subset\\_p \\cdot (1-(1-trial\\_p)^{trial\\_n}))^{subset\\_n} : trials_p represents probability trial subset success trials_n represents number trials subset subset_p represents probability subset selected subset_n represents number subsets set_p represents probability least one trial least one subsetbeing success also provides probability least one expected number infected animals subset (case farm) Multiple group multilevel trials trial_totals() application scope introduction mcmodule, cases might several variates subset. example deal different animal categories (cow, calf, bull…) farm. infection probability animals within farm independent, taken account. information , check: Multilevel trials official vignette.","code":"# Probability of at least one animal from at least one herd being is not detected (probability of a herd being infected: h_prev) imports <- trial_totals(   mcmodule = imports,   mc_names = \"no_detect\",   trials_n = \"animals_n\",   subsets_n = \"farms_n\",   subsets_p = \"h_prev\",   mctable = imports_mctable, )  # Result imports$node_list$no_detect_set$summary ##         mc_name pathogen origin      mean          sd       Min      2.5% ## 1 no_detect_set        a   nord 0.3750658 0.019423805 0.3409096 0.3426622 ## 2 no_detect_set        a  south 0.2996147 0.062082135 0.1831011 0.1880185 ## 3 no_detect_set        a   east 0.6033211 0.044910761 0.5223697 0.5281263 ## 4 no_detect_set        b   nord 0.9879346 0.008092032 0.9685386 0.9700096 ## 5 no_detect_set        b  south 0.9591725 0.008198048 0.9436984 0.9446557 ## 6 no_detect_set        b   east 0.9666202 0.020854527 0.9178026 0.9227233 ##         25%       50%       75%     97.5%       Max  nsv Na's ## 1 0.3584187 0.3754377 0.3919736 0.4074487 0.4093251 1001    0 ## 2 0.2502976 0.3010584 0.3531750 0.3983723 0.4010640 1001    0 ## 3 0.5654920 0.6014358 0.6445998 0.6758861 0.6789184 1001    0 ## 4 0.9820674 0.9903868 0.9947567 0.9972808 0.9975589 1001    0 ## 5 0.9519908 0.9594851 0.9664197 0.9713592 0.9717380 1001    0 ## 6 0.9515323 0.9719872 0.9843585 0.9916945 0.9921818 1001    0 # Probability of at least one in a farm imports$node_list$no_detect_subset$summary ##            mc_name pathogen origin       mean          sd        Min       2.5% ## 1 no_detect_subset        a   nord 0.08980737 0.005660661 0.07999752 0.08048733 ## 2 no_detect_subset        a  south 0.03532634 0.008548798 0.02002086 0.02061238 ## 3 no_detect_subset        a   east 0.12443077 0.014260146 0.10017930 0.10173663 ## 4 no_detect_subset        b   nord 0.60225288 0.057082160 0.49932532 0.50409716 ## 5 no_detect_subset        b  south 0.27506880 0.014724809 0.25001588 0.25130089 ## 6 no_detect_subset        b   east 0.40038052 0.057432337 0.30019068 0.30633494 ##          25%        50%        75%      97.5%        Max  nsv Na's ## 1 0.08493839 0.08984544 0.09471675 0.09937252 0.09994365 1001    0 ## 2 0.02839691 0.03518491 0.04263250 0.04954233 0.04996842 1001    0 ## 3 0.11226079 0.12314390 0.13738540 0.14866661 0.14980902 1001    0 ## 4 0.55256613 0.60502150 0.65011828 0.69317755 0.69972566 1001    0 ## 5 0.26187070 0.27429279 0.28778932 0.29903139 0.29996406 1001    0 ## 6 0.35105566 0.39994117 0.44787181 0.49560966 0.49994811 1001    0"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"aggregated-totals","dir":"Articles","previous_headings":"Working with an mcmodule > Calculating totals","what":"Aggregated totals","title":"Introduction","text":"point, mcnode operations element-wise, keeping original dimensions, allowing uncertainties variates propagate calculations. However, sometimes, need aggregate variates calculate totals, example, total risk introducing pathogen across regions. case, want preserve uncertainty dimension reduce variates dimension. agg_totals() can calculate overall probabilities sum quantities across groups. Now can visualize mcmodule see new nodes created totals functions.","code":"imports <- agg_totals(   mcmodule = imports,   mc_name = \"no_detect_set\",   agg_keys = \"pathogen\" ) ## 3 variates per group for no_detect_set # Result imports$node_list$no_detect_set_agg$summary ##             mc_name pathogen      mean           sd       Min      2.5% ## 1 no_detect_set_agg        a 0.8263790 2.558766e-02 0.7550627 0.7752397 ## 4 no_detect_set_agg        b 0.9999839 1.645539e-05 0.9998917 0.9999352 ##         25%       50%       75%     97.5%       Max  nsv Na's ## 1 0.8089823 0.8272920 0.8456831 0.8692203 0.8841334 1001    0 ## 4 0.9999804 0.9999895 0.9999949 0.9999985 0.9999993 1001    0 mc_network(imports, legend = TRUE)"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"working-with-what-if-scenarios","dir":"Articles","previous_headings":"","what":"Working with what-if scenarios","title":"Introduction","text":"far, ’ve tested model using current data. risk analysis useful comparing different scenarios. example, compare baseline risk risk tests always performed regions. , need add column called “scenario_id”. name important used recognize specifically scenario comparisons, regular variate categories. baseline scenario called “0”. -scenarios can name, can modify values dataset. Now create mcmodule calculate totals. Note , first input output functions work mcmodules mcmodules, can use pipe %>% simplify processs.","code":"imports_data<-imports_data%>%   mutate(scenario_id = \"0\")  imports_data_wif<-imports_data%>%   mutate(scenario_id = \"always_test\",          test_origin = \"always\")%>%   bind_rows(imports_data)%>%   relocate(scenario_id)  imports_data_wif[,1:6] ##    scenario_id pathogen origin test_origin h_prev_min h_prev_max ## 1  always_test        a   nord      always       0.08       0.10 ## 2  always_test        a  south      always       0.02       0.05 ## 3  always_test        a   east      always       0.10       0.15 ## 4  always_test        b   nord      always       0.50       0.70 ## 5  always_test        b  south      always       0.25       0.30 ## 6  always_test        b   east      always       0.30       0.50 ## 7            0        a   nord   sometimes       0.08       0.10 ## 8            0        a  south   sometimes       0.02       0.05 ## 9            0        a   east       never       0.10       0.15 ## 10           0        b   nord      always       0.50       0.70 ## 11           0        b  south   sometimes       0.25       0.30 ## 12           0        b   east     unknown       0.30       0.50 imports_wif<-eval_module(   exp = c(imports=imports_exp),   data = imports_data_wif,   mctable = imports_mctable,   data_keys = imports_data_keys   )%>%   trial_totals(     mc_names = \"no_detect\",     trials_n = \"animals_n\",     subsets_n = \"farms_n\",     subsets_p = \"h_prev\",     mctable = imports_mctable,   )%>%   agg_totals(     mc_name = \"no_detect_set\",     agg_keys = c(\"pathogen\", \"scenario_id\")   ) ##  ## imports evaluated ##  ## mcmodule created (expressions: imports) ## 3 variates per group for no_detect_set # Result imports_wif$node_list$no_detect_set_agg$summary ##              mc_name scenario_id pathogen      mean           sd       Min ## 1  no_detect_set_agg always_test        a 0.7870938 2.961028e-02 0.7025825 ## 4  no_detect_set_agg always_test        b 0.9999829 1.738871e-05 0.9998839 ## 7  no_detect_set_agg           0        a 0.8271197 2.586876e-02 0.7512733 ## 10 no_detect_set_agg           0        b 0.9999843 1.684724e-05 0.9998893 ##         2.5%       25%       50%       75%     97.5%       Max  nsv Na's ## 1  0.7262427 0.7673428 0.7895126 0.8073118 0.8390978 0.8532887 1001    0 ## 4  0.9999316 0.9999779 0.9999893 0.9999947 0.9999985 0.9999993 1001    0 ## 7  0.7737190 0.8098454 0.8274998 0.8465280 0.8724942 0.8823499 1001    0 ## 10 0.9999340 0.9999803 0.9999903 0.9999953 0.9999987 0.9999993 1001    0"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"inputs-from-previous-mcmodules","dir":"Articles","previous_headings":"Working with multiple mcmodules","what":"Inputs from previous mcmodules","title":"Introduction","text":"Now know probability infected imported animal detected, want estimate probability imported animal ends infecting another animal via direct contact","code":"#  Create pathogen data table transmission_data  <-data.frame(pathogen=c(\"a\",\"b\"),                             inf_dc_min=c(0.05,0.3),                             inf_dc_max=c(0.08,0.4))  transmission_data_keys <-list(transmission_data = list(cols=c(\"pathogen\", \"inf_dc_min\",\"inf_dc_max\"),                                          keys=c(\"pathogen\")))  transmission_mctable  <- data.frame(mcnode = c(\"inf_dc\"),                                description = c(\"Probability of infection via direct contact\"),                                mc_func = c(\"runif\"),                                from_variable = c(NA),                                transformation = c(NA),                                sensi_analysis = c(FALSE)) dir_contact_exp<-quote({   dir_contact <- no_detect * inf_dc })  transmission <- eval_module(   exp = c(dir_contact = dir_contact_exp),   data = transmission_data,   mctable =transmission_mctable,   data_keys = transmission_data_keys,   prev_mcmodule = imports_wif) ## Group by: pathogen ## no_detect prev dim: [1001, 1, 12], new dim: [1001, 1, 12], 0 null matches ## data prev dim: [2, 3], new dim: [12, 4], 0 null matches ##  ## dir_contact evaluated ##  ## mcmodule created (expressions: dir_contact) mc_network(transmission, legend = TRUE)"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"combining-mcmodules","dir":"Articles","previous_headings":"Working with multiple mcmodules","what":"Combining mcmodules","title":"Introduction","text":"","code":"intro<-combine_modules(imports_wif,transmission) intro<-at_least_one(intro, c(\"no_detect\",\"dir_contact\"), name=\"total\") ## 2 variates per group for dir_contact ## 2 variates per group for dir_contact ## no_detect prev dim: [1001, 1, 12], new dim: [1001, 1, 24], 0 null matches ## dir_contact prev dim: [1001, 1, 12], new dim: [1001, 1, 24], 0 null matches intro$node_list$total$summary ##    mc_name scenario_id pathogen origin       mean          sd        Min ## 1    total always_test        a   nord 0.01864184 0.001722597 0.01459353 ## 2    total always_test        a   nord 0.02370509 0.001870742 0.01924184 ## 3    total always_test        a  south 0.01868934 0.001745219 0.01496515 ## 4    total always_test        a  south 0.02367750 0.001865563 0.01861923 ## 5    total always_test        a   east 0.01855234 0.001674436 0.01475818 ## 6    total always_test        a   east 0.02861171 0.002240960 0.02276387 ## 7    total always_test        b   nord 0.10376668 0.015961466 0.06188676 ## 8    total always_test        b   nord 0.10413476 0.012723355 0.07674719 ## 9    total always_test        b  south 0.07648329 0.009880278 0.05044538 ## 10   total always_test        b  south 0.13057220 0.009530128 0.10475917 ## 11   total always_test        b   east 0.10377878 0.015448960 0.06096255 ## 12   total always_test        b   east 0.24769031 0.022338128 0.19276733 ## 13   total           0        a   nord 0.09759581 0.008031210 0.08307071 ## 14   total           0        a   nord 0.10224721 0.008507702 0.08645002 ## 15   total           0        a  south 0.09714558 0.007822626 0.08330352 ## 16   total           0        a  south 0.10173070 0.008280033 0.08626187 ## 17   total           0        a   east 0.17606590 0.014269714 0.15081487 ## 18   total           0        a   east 0.18449788 0.014907436 0.15696650 ## 19   total           0        b   nord 0.10462950 0.012762992 0.07436241 ## 20   total           0        b   nord 0.10489817 0.015723152 0.06315414 ## 21   total           0        b  south 0.23710063 0.006694263 0.21909044 ## 22   total           0        b  south 0.28175620 0.008963509 0.25666578 ## 23   total           0        b   east 0.53795167 0.041940602 0.46301834 ## 24   total           0        b   east 0.61146281 0.043084223 0.52625426 ##          2.5%        25%        50%        75%      97.5%        Max  nsv Na's ## 1  0.01577198 0.01727634 0.01856005 0.02003115 0.02187540 0.02295662 1001    0 ## 2  0.02026281 0.02230448 0.02364317 0.02504929 0.02727800 0.02962124 1001    0 ## 3  0.01567118 0.01727162 0.01863359 0.02008781 0.02186627 0.02301175 1001    0 ## 4  0.02032720 0.02226212 0.02358051 0.02504635 0.02722227 0.02890008 1001    0 ## 5  0.01564087 0.01722423 0.01847063 0.01979313 0.02181840 0.02308171 1001    0 ## 6  0.02458871 0.02699695 0.02846669 0.03016160 0.03300551 0.03478318 1001    0 ## 7  0.07646553 0.09191313 0.10264578 0.11556943 0.13568311 0.14849396 1001    0 ## 8  0.08119772 0.09471157 0.10354945 0.11328839 0.12945283 0.14512739 1001    0 ## 9  0.05808618 0.06869976 0.07662859 0.08364628 0.09542524 0.10126246 1001    0 ## 10 0.11278802 0.12378312 0.13044441 0.13708526 0.14921591 0.15523800 1001    0 ## 11 0.07529536 0.09259944 0.10335903 0.11493394 0.13372123 0.14976307 1001    0 ## 12 0.20740705 0.23168462 0.24662517 0.26311527 0.29245767 0.31513411 1001    0 ## 13 0.08421563 0.09075189 0.09784627 0.10452968 0.11053958 0.11136198 1001    0 ## 14 0.08803834 0.09503238 0.10261575 0.10949245 0.11617387 0.11796002 1001    0 ## 15 0.08447858 0.09050448 0.09686338 0.10389016 0.11012443 0.11177025 1001    0 ## 16 0.08814450 0.09468725 0.10157277 0.10889514 0.11586967 0.11778942 1001    0 ## 17 0.15214975 0.16396387 0.17584465 0.18846654 0.19944215 0.20079121 1001    0 ## 18 0.15981536 0.17208015 0.18491405 0.19736348 0.20892399 0.21150583 1001    0 ## 19 0.08068174 0.09518206 0.10466374 0.11312204 0.13024624 0.14145700 1001    0 ## 20 0.07607474 0.09337515 0.10470606 0.11644788 0.13594919 0.14748013 1001    0 ## 21 0.22421345 0.23205190 0.23716986 0.24203619 0.24945933 0.25574089 1001    0 ## 22 0.26473783 0.27517730 0.28155851 0.28799086 0.29930387 0.30641192 1001    0 ## 23 0.46918916 0.50094123 0.53826630 0.57501602 0.60554120 0.61272730 1001    0 ## 24 0.53823191 0.57451359 0.61227060 0.64868864 0.68275115 0.69391415 1001    0 mc_network(intro, legend = TRUE)"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"convergence-analysis","dir":"Articles","previous_headings":"Analysing mcmodule models","what":"Convergence analysis","title":"Introduction","text":"Checks variates parameters converge uncertainty dimensions number simulations performed.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"sensitivity-analysis","dir":"Articles","previous_headings":"Analysing mcmodule models","what":"Sensitivity analysis","title":"Introduction","text":"Parameters included specified mctable.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"remove-mcnode-nas","dir":"Articles","previous_headings":"Tricks and tweaks","what":"Remove mcnode NAs","title":"Introduction","text":"Useful include expressions division denominator can potentially 0 return Inf NaN, actually want parameter 0.","code":"sample_mcnode <- mcstoc(runif,                min = mcdata(c(NA, 0.2, -Inf), type = \"0\", nvariates = 3),                max = mcdata(c(NA, 0.3, Inf), type = \"0\", nvariates = 3),                nvariates = 3 ) ## Warning in (function (n, min = 0, max = 1) : NAs produced ## Warning in (function (n, min = 0, max = 1) : NAs produced # Replace NA and Inf with 0 clean_mcnode <- mcnode_na_rm(sample_mcnode)"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"total-node-names","dir":"Articles","previous_headings":"Tricks and tweaks","what":"Total node names","title":"Introduction","text":"already saw, totals functions: at_least_one(), agg_totals(), trial_totals() generate new mcnodes mcmodule. names nodes based input mcnode names, adding informative suffixes. “root” name prefixes can customized self-describing names. [add examples]","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"prefixing-mcmodules","dir":"Articles","previous_headings":"Tricks and tweaks","what":"Prefixing mcmodules","title":"Introduction","text":"risk analysis models might include mcmodules contain expression repeated multiple times. creates problems aggregating modules duplicated names cause significant issues. cases, adding prefix module recommended clearly diferanciate individual mcnode. default prefix add_prefix() mcmodule name.","code":"imports_wif<-add_prefix(imports_wif)"},{"path":"https://nataliaciria.github.io/mcmodule/articles/intro.html","id":"some-functions-that-can-be-used-without-mcmodules","dir":"Articles","previous_headings":"Tricks and tweaks","what":"Some functions that can be used without mcmodules","title":"Introduction","text":"mc_summary() data mcmodule create_mcnodes()","code":""},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"mcmodule","text":"guide presents flexible approach building risk assessment models Monte Carlo simulations R. framework multivariate, allowing simultaneous analysis multiple variates (different categories groups), modular, breaking complex systems manageable components. mc2d R package (Pouillot Delignette-Muller 2010) provides tools build analyse models involving multiple variables uncertainties based Monte Carlo simulations. However, tools limited handling multiple variates, complex models can difficult analyse interpret. mcmodule package builds R package mc2d enhance model flexibility. new package provides: Tools add metadata model elements better traceability debugging Tools handle complex multivariate variables framework break Monte Carlo models smaller, reusable components (modules) can analysed independently integration","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"multivariate-monte-carlo-simulations","dir":"Articles","previous_headings":"","what":"Multivariate Monte-Carlo simulations","title":"mcmodule","text":"section draws mc2d package vignette, adaptations modular Monte Carlo simulations. Quantitative risk analysis numerical assessment risk facilitate decision making face uncertainty. Monte Carlo simulation technique used model analyse uncertainty (Vose 2008). typical two-dimensional Monte Carlo simulation, one dimension represents variability represents uncertainty. However, framework, take different approach : combine variability uncertainty one dimension (u) use variates (representing different groups categories) dimension () approach enables us track multiple values across groups simultaneously using variates handle cases values must aggregated animal movements, farms, grouped entities. Although technically possible separate variability uncertainty, exponential increase computational programming requirements make impractical models size. framework, mcnode array dimensions (u × 1 × ), u dimension variability uncertainty combined, number variates. input parameters uncertain, use term “uncertainty dimension” throughout document refer combined dimension variability uncertainty. example, buying number cows heifers specific region, mcnode herd prevalence : Multiple variates (rows), representing specific animal category-disease combination. variables define distinguish variates called keys. Probability values generated PERT distribution (rpert), using minimum, mode, maximum parameters across u iterations (columns) model uncertainty estimates.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"scenarios","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations","what":"Scenarios","title":"mcmodule","text":"framework enables creation comparison scenarios. comparisons, need baseline scenario (scenario “0”) one alternative scenarios. Variates within scenario called “groups.” every scenario needs contain baseline groups, groups present alternative scenarios must exist baseline. scenario id, group id, row number three mcnode properties enable row matching row aggregation operations.","code":""},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"sec-element-wise-operations","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations","what":"Element-wise operations","title":"mcmodule","text":"operations model element-wise, meaning calculation occurs independently matching elements across nodes. operations preserve node dimensions applying functions (multiplication addition) corresponding elements, allowing uncertainties variates propagate calculations.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"sec-row-matching","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations","what":"Row matching","title":"mcmodule","text":"Row matching operations align nodes ensure compatible dimensions properly matched rows element-wise calculations. especially important working nodes containing different scenarios. matching process may require reordering, duplicating, adding rows either nodes. Row matching nodes needed following cases combinations:","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"group-matching","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations > Row matching","what":"Group matching","title":"mcmodule","text":"Nodes scenarios/dimensions different group order Check keys define groups different order  Assign common group ids, based keys  Reorder rows align group ids. similar dplyr left_join","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"scenario-matching","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations > Row matching","what":"Scenario matching","title":"mcmodule","text":"Nodes groups different scenarios. general rule operations scenario specified, assumed variable takes values baseline scenario. Check scenarios different  missing scenarios, duplicate baseline scenario (scenario “0”)  nodes matched scenario used element-wise operation, resulting node contain scenarios input nodes. conceptually similar dplyr full_join, except unmatched rows use values baseline scenario.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"null-matching","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations > Row matching","what":"Null matching","title":"mcmodule","text":"nodes contain different scenarios groups, groups may missing certain nodes. missing groups (called “null” variates) assigned probability 0. operation typically complements scenario matching. Check missing groups  Add null variates probability 0 missing groups (apply scenario matching)  nodes matched scenario element-wise operation, resulting node contain groups input nodes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"combined-probabilities","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations","what":"Combined probabilities","title":"mcmodule","text":"special type element-wise operation automatically deals row matching. Combines probabilities multiple events assuming independence, using formula: P(∪B)=1−(1−P())(1−P(B)) P(\\cup B) = 1 - (1-P())(1-P(B))","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"sec-row-aggregation","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations","what":"Row aggregation","title":"mcmodule","text":"Row aggregation operations combine values across multiple rows (variates) mcnode using specific criteria. operations calculate overall probabilities sum quantities across groups.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"probabilities","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations > Row aggregation","what":"Probabilities","title":"mcmodule","text":"events can occur independently across multiple variates node. example, disease might present animals different regions farms. calculate probability event occurring least one variate within subset, first group data aggregation keys (agg_keys). , subset, use standard probability formula independent trials find probability event occurring least one variate. p_agg=1−∏p⊆S(1−p) p\\_{agg}=1-\\prod_{p\\subseteq S}(1-p) : S represents subset variates included aggregation p represents probability event occurring p_agg represents probability occurrence least one variate S scenarios simulated, scenario id must always included aggregation key, probabilities calculated across different -scenarios. can also keep variariates, corresponding aggregated values, ensure dimensions compatibility calculations.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"quantities","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations > Row aggregation","what":"Quantities","title":"mcmodule","text":"working quantities (number animals farms), calculate totals summing values across variates within subset. n_agg=∑n⊆Sn n\\_{agg}=\\sum_{n\\subseteq S} n : S represents subset variates included aggregation n represents quantity value n_agg represents sum quantities across variates S","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"trials","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations","what":"Trials","title":"mcmodule","text":"framework, nodes typically represent probability success single trial binary outcome (success/failure). trial one instance event might occur, example, animal, farm, batch, animal movement, farm visit. trial two possible outcomes, whether animal infected , whether test positive negative. single-level trials, trials independent probability success1. probability processes follow hierarchical structure events occur different levels. example, animals purchased multiple farms, must consider probability farm infected probability individual animal within farm infected. means infection probabilities animals farm independent. multilevel trials, trials organized subsets, subset selection probability. subset represents group sharing specific characteristics, example, animals farm health status. following probability processes calculations based Chapter 5 Handbook Import Risk Analysis Animals Animal Products Volume 2. Quantitative risk assessment (Murray 2004).","code":""},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"single-level-trials","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations > Trials","what":"Single-level trials","title":"mcmodule","text":"single-level trials, trial independent probability success (trial_ptrial\\_p). set trials_ntrials\\_n trials, probability least one success : set_p=1−(1−trial_p)trials_n set\\_p= 1-(1-trial\\_p)^{trials\\_n} imports_mcmodule, probability infected animal infected farm goes undetected (no_detect_ano\\_detect\\_a). animals (variate) probability, can use total number animals selected per farm (animals_nanimals\\_n) number trials (trials_n) determine probability least one infected animal one farm detected (no_detect_setno\\_detect\\_set). Note animals_nanimals\\_n isn’t defined mcnode imports_mcmodule (used imports_mcmodule$model_exp), can automatically generated trial_totals() ’s included imports_mctable required data exists imports_mcmodule$data.","code":"# Single-level trial imports_mcmodule <- trial_totals(   mcmodule = imports_mcmodule,   mc_names = \"no_detect_a\", # trial_p   trials_n = \"animals_n\",   mctable = imports_mctable )  # Probability that at least one infected animal from an infected farm is not detected mc_summary(imports_mcmodule,\"no_detect_a_set\")[,-1] #>   pathogen origin      mean           sd       Min      2.5%       25% #> 1        a   nord 0.9999344 7.271373e-05 0.9994190 0.9997340 0.9999148 #> 2        a  south 0.9999945 9.174980e-06 0.9998817 0.9999651 0.9999936 #> 3        a   east 1.0000000 3.759259e-10 1.0000000 1.0000000 1.0000000 #> 4        b   nord 0.9994337 7.901747e-04 0.9939744 0.9970818 0.9993747 #> 5        b  south 1.0000000 4.055315e-14 1.0000000 1.0000000 1.0000000 #> 6        b   east 1.0000000 0.000000e+00 1.0000000 1.0000000 1.0000000 #>         50%       75%     97.5%       Max  nsv Na's #> 1 0.9999601 0.9999825 0.9999952 0.9999982 1001    0 #> 2 0.9999979 0.9999993 0.9999999 1.0000000 1001    0 #> 3 1.0000000 1.0000000 1.0000000 1.0000000 1001    0 #> 4 0.9997226 0.9998992 0.9999833 0.9999951 1001    0 #> 5 1.0000000 1.0000000 1.0000000 1.0000000 1001    0 #> 6 1.0000000 1.0000000 1.0000000 1.0000000 1001    0"},{"path":"https://nataliaciria.github.io/mcmodule/articles/mcmodule.html","id":"multilevel-trials","dir":"Articles","previous_headings":"Multivariate Monte-Carlo simulations > Multivariate nodes operations > Trials","what":"Multilevel trials","title":"mcmodule","text":"Simple multilevel multilevel trials, account hierarchical structures trials organized subsets. example, considering animals (trials_ntrials\\_n) different farms (subset_nsubset\\_n), must account farm’s selection probability (subset_psubset\\_p) individual animal’s probability success (trial_ptrial\\_p). probability least one success hierarchical structure given : set_p=1−(1−subset_p⋅(1−(1−trial_p)trial_n))subset_n set\\_p= 1-(1-subset\\_p \\cdot (1-(1-trial\\_p)^{trial\\_n}))^{subset\\_n} : trials_p represents probability trial subset success trials_n represents number trials subset subset_p represents probability subset selected subset_n represents number subsets set_p represents probability least one trial least one subsetbeing success considering animals (trials_n) different farms (subset_n, must account farm’s probability infected (subsets_p) individual animal’s probability infected (trial_p).   Multiple group multilevel trials multiple group multilevel trials, several variates (groups) can belong subset. example, selecting animals different categories (cow, calf, heifer, bull) farm, infection probabilities independent. include aggregation keys groups independent calculate trial probabilities, example, aggregating variates different animal categories farm. calculation, subset_p subset_n values must identical across variates aggregated. trial_p_agg=1−∏trial_p⊆S(1−trial_p)trial_n trial\\_p\\_agg=1-\\prod_{trial\\_p\\subseteq S}(1-trial\\_p)^{trial\\_n} set_p_agg=1−(1−subset_p⋅trial_p_agg)subset_n set\\_p\\_agg = 1-(1-subset\\_p \\cdot trial\\_p\\_agg)^{subset\\_n} : S represents variates included aggregation trials_p represents probability success trial subset trials_n represents number trials subset trials_p _agg represents probability success least one variate least one aggregated variates subset_p represents probability subset selected subset_n represents number subsets set_p_agg represents probability success least one trial least one aggregated variates least one subset row aggregation, can keep variates maintain dimensions compatibility calculations.","code":"# Simple multilevel trial imports_mcmodule <- trial_totals(   mcmodule = imports_mcmodule,   mc_names = \"no_detect_a\", # trial_p   trials_n = \"animals_n\",   subsets_n = \"farms_n\",   subsets_p = \"h_prev\",   mctable = imports_mctable )  # Probability that at least one infected animal from at least one farm is not detected mc_summary(imports_mcmodule,\"no_detect_a_set\", digits=2)[,-1] #>   pathogen origin mean     sd  Min 2.5%  25%  50%  75% 97.5%  Max  nsv Na's #> 1        a   nord 0.38 0.0200 0.34 0.34 0.36 0.38 0.39  0.41 0.41 1001    0 #> 2        a  south 0.30 0.0600 0.18 0.19 0.24 0.30 0.36  0.40 0.40 1001    0 #> 3        a   east 0.60 0.0400 0.52 0.53 0.57 0.60 0.64  0.67 0.68 1001    0 #> 4        b   nord 0.99 0.0081 0.97 0.97 0.98 0.99 0.99  1.00 1.00 1001    0 #> 5        b  south 0.96 0.0081 0.94 0.94 0.95 0.96 0.97  0.97 0.97 1001    0 #> 6        b   east 0.97 0.0200 0.92 0.92 0.95 0.97 0.98  0.99 0.99 1001    0"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Natalia Ciria. Author, maintainer, copyright holder. Alberto Allepuz. Thesis advisor. Giovanna Ciaravino. Thesis advisor.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ciria N (2025). mcmodule: Modular Monte Carlo Risk Analysis. R package version 0.0.0.9000, https://github.com/NataliaCiria/mcmodule.","code":"@Manual{,   title = {mcmodule: Modular Monte Carlo Risk Analysis},   author = {Natalia Ciria},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/NataliaCiria/mcmodule}, }"},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"mcmodule-","dir":"","previous_headings":"","what":"Modular Monte Carlo Risk Analysis","title":"Modular Monte Carlo Risk Analysis","text":"Framework building modular Monte Carlo risk analysis models. extends capabilities mc2d facilitate working multiple risk pathways, variates scenarios. package includes tools creating stochastic objects data frames, visualising results, performing uncertainty, sensitivity convergence analysis.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Modular Monte Carlo Risk Analysis","text":"Install CRAN: Install latest development version GitHub (requires devtool package)","code":"install.packages(\"mcmodule\") library(\"mcmodule\") # install.packages(\"devtools\") devtools::install_github(\"NataliaCiria/mcmodule\")"},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"set-up-an-mcmodel","dir":"","previous_headings":"","what":"Set up an mcmodel","title":"Modular Monte Carlo Risk Analysis","text":"Create data frame input parameters Define keys uniquely identify row data. Define Monte Carlo node table (mctable) indicating build stochastic nodes. Write model expression indicating combine parameters. Build model eval_module(), creating stochastic nodes evaluating expression. ```{r} # Example: Building simple mcmodule","code":""},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"create-a-data-frame-with-example-parameters-for-two-categories","dir":"","previous_headings":"","what":"Create a data frame with example parameters for two categories","title":"Modular Monte Carlo Risk Analysis","text":"example_data <- data.frame( category_1 = c(“”, “b”, “”, “b”), # Category 1 (e.g., type) category_2 = c(“blue”, “blue”, “red”, “red”), # Category 2 (e.g., group) x_min = c(0.07, 0.3, 0.2, 0.5), # Minimum value parameter x x_max = c(0.08, 0.4, 0.3, 0.6), # Maximum value parameter x y = c(0.01, 0.02, 0.03, 0.04) # Value parameter y )","code":""},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"define-the-keys-for-each-dataset-used-for-matching-and-aggregation","dir":"","previous_headings":"","what":"Define the keys for each dataset (used for matching and aggregation)","title":"Modular Monte Carlo Risk Analysis","text":"example_data_keys <- list( example_data = list( cols = names(example_data), # columns data keys = c(“category_1”, “category_2”) # Unique identifiers row ) )","code":""},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"create-a-table-describing-the-monte-carlo-nodes-to-be-built-from-the-data","dir":"","previous_headings":"","what":"Create a table describing the Monte Carlo nodes to be built from the data","title":"Modular Monte Carlo Risk Analysis","text":"example_mctable <- data.frame( mcnode = c(“x”, “y”), # Names nodes description = c(“Probability x”, “Probability y”), # Descriptions mc_func = c(“runif”, NA), # Distribution function x, none y from_variable = c(NA, NA), # Source variable (used ) transformation = c(NA, NA), # Transformation (used ) sensi_analysis = c(FALSE, FALSE) # Include sensitivity analysis )","code":""},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"define-the-model-expression-using-the-nodes","dir":"","previous_headings":"","what":"Define the model expression using the nodes","title":"Modular Monte Carlo Risk Analysis","text":"example_exp <- quote({ result <- x * y # Calculate result product x y })","code":""},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"build-the-mcmodule-using-the-input-data-node-table-and-expression","dir":"","previous_headings":"","what":"Build the mcmodule using the input data, node table, and expression","title":"Modular Monte Carlo Risk Analysis","text":"example_mcmodule <- eval_module( exp = c(example = example_exp), # Model expression(s) data = example_data, # Input data mctable = example_mctable, # Node definitions data_keys = example_data_keys # Data keys matching )  documentation examples can found vignette introduction article.","code":"Once you have created a mcmodule object, you can use other package functions to summarize and visualize mcnodes, calculate totals, and combine them with other mcmodules, for example:  ```{r} # Summarize the 'result' node mc_summary(example_mcmodule, \"result\")  # Get 'result' aggregated by category 1 example_mcmodule<-example_mcmodule%>%   agg_totals(     mc_name = \"result\",     agg_keys = c(\"category_1\")   )  # Print aggregated 'result' example_mcmodule$node_list$result_agg$summary  # Visualize the mcmodule mc_network(example_mcmodule, legend = TRUE)"},{"path":"https://nataliaciria.github.io/mcmodule/index.html","id":"citations","dir":"","previous_headings":"","what":"Citations","title":"Modular Monte Carlo Risk Analysis","text":"use mcmodule research, please cite: Ciria, N. (2024). mcmodule: Modular Monte Carlo Risk Analysis. R package version 1.0.0. https://github.com/NataliaCiria/mcmodule","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_group_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Group IDs to Data Frames — add_group_id","title":"Add Group IDs to Data Frames — add_group_id","text":"Add Group IDs Data Frames","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_group_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Group IDs to Data Frames — add_group_id","text":"","code":"add_group_id(x, y = NULL, by = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_group_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Group IDs to Data Frames — add_group_id","text":"x First dataset y Optional second dataset Grouping variables","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_group_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Group IDs to Data Frames — add_group_id","text":"Dataframe list dataframes added group IDs","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_group_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Group IDs to Data Frames — add_group_id","text":"","code":"if (FALSE) { # \\dontrun{ add_group_id(imports_data, by = c(\"pathogen \", \"origin\")) } # }"},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_prefix.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Prefix to Node Names — add_prefix","title":"Add Prefix to Node Names — add_prefix","text":"Adds prefix node_list names input nodes. Preserves previous prefixes unless rewrite_module argument specified.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_prefix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Prefix to Node Names — add_prefix","text":"","code":"add_prefix(mcmodule, prefix = NULL, rewrite_module = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_prefix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Prefix to Node Names — add_prefix","text":"mcmodule mcmodule node_list object prefix String add prefix new mcmodule mcnodes, defaults mcmodule name rewrite_module Name module rewrite prefixes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_prefix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Prefix to Node Names — add_prefix","text":"mcmodule new prefixes node_list names","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/add_prefix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Prefix to Node Names — add_prefix","text":"","code":"print(names(imports_mcmodule$node_list)) #> [1] \"w_prev\"      \"test_origin\" \"test_sensi\"  \"inf_a\"       \"false_neg_a\" #> [6] \"no_test_a\"   \"no_detect_a\" imports_mcmodule_prefix<-purchase <- add_prefix(imports_mcmodule) print(names(imports_mcmodule_prefix$node_list)) #> [1] \"imports_mcmodule_w_prev\"      \"imports_mcmodule_test_origin\" #> [3] \"imports_mcmodule_test_sensi\"  \"imports_mcmodule_inf_a\"       #> [5] \"imports_mcmodule_false_neg_a\" \"imports_mcmodule_no_test_a\"   #> [7] \"imports_mcmodule_no_detect_a\""},{"path":"https://nataliaciria.github.io/mcmodule/reference/agg_totals.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate Across Groups — agg_totals","title":"Aggregate Across Groups — agg_totals","text":"Combines node values across specified grouping variables using different aggregation methods. aggregation method can specified via agg_func parameter: \"prob\": Combined probability assuming independence \"sum\": Sum values \"avg\": Average values NULL: defaults \"sum\" mc_name ends \"_n\", else defaults \"prob\"","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/agg_totals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate Across Groups — agg_totals","text":"","code":"agg_totals(   mcmodule,   mc_name,   agg_keys = NULL,   agg_suffix = NULL,   prefix = NULL,   name = NULL,   summary = TRUE,   keep_variates = FALSE,   agg_func = NULL )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/agg_totals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate Across Groups — agg_totals","text":"mcmodule mcmodule object containing nodes data mc_name name node aggregate agg_keys grouping variables aggregation agg_suffix Suffix aggregated node name (default: \"agg\") prefix Optional prefix output node name - includes metadata add_prefix() (default: NULL) name Custom name output node (optional) summary whether include summary statistics (default: TRUE) keep_variates whether preserve individual values (default: FALSE) agg_func aggregation method (\"prob\", \"sum\", \"avg\", NULL)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/agg_totals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate Across Groups — agg_totals","text":"mcmodule new aggregated node added","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/agg_totals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregate Across Groups — agg_totals","text":"","code":"imports_mcmodule <- agg_totals(   imports_mcmodule, \"no_detect_a\",   agg_keys = c(\"scenario_id\", \"pathogen\") ) #> 3 variates per group for no_detect_a print(imports_mcmodule$node_list$no_detect_a_agg$summary) #>           mc_name scenario_id pathogen      mean         sd       Min      2.5% #> 1 no_detect_a_agg           0        a 0.3264681 0.01416266 0.2891882 0.2996985 #> 4 no_detect_a_agg           0        b 0.6610791 0.03083952 0.5904521 0.6087351 #>         25%       50%       75%     97.5%       Max  nsv Na's #> 1 0.3160279 0.3266146 0.3365067 0.3530371 0.3632177 1001    0 #> 4 0.6354902 0.6612333 0.6865692 0.7119438 0.7183356 1001    0"},{"path":"https://nataliaciria.github.io/mcmodule/reference/animal_imports.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Animal Import Data — animal_imports","title":"Example Animal Import Data — animal_imports","text":"dataset containing information animal imports three different regions","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/animal_imports.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example Animal Import Data — animal_imports","text":"","code":"animal_imports"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/reference/animal_imports.html","id":"animal-imports","dir":"Reference","previous_headings":"","what":"animal_imports","title":"Example Animal Import Data — animal_imports","text":"data frame 3 rows 4 columns: origin Region origin (nord, south, east) farms_n Number farms exporting animals animals_n_mean Mean number animals exported per farm animals_n_sd Standard deviation animals exported per farm","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/animal_imports.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Animal Import Data — animal_imports","text":"Simulated data demonstration purposes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/at_least_one.html","id":null,"dir":"Reference","previous_headings":"","what":"Combined Probability of Events (At least one) — at_least_one","title":"Combined Probability of Events (At least one) — at_least_one","text":"Combines probabilities multiple events assuming independence, using formula P(B) = 1 - (1-P())*(1-P(B)). matches dimensions automatically.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/at_least_one.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combined Probability of Events (At least one) — at_least_one","text":"","code":"at_least_one(   mcmodule,   mc_names,   name = NULL,   all_suffix = NULL,   prefix = NULL,   summary = TRUE )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/at_least_one.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combined Probability of Events (At least one) — at_least_one","text":"mcmodule Module containing node list input data frames mc_names Vector node names combine name Optional custom name combined node (default: NULL) all_suffix Suffix combined node name (default: \"\") prefix Optional prefix output node name (default: NULL) summary Whether calculate summary statistics (default: TRUE)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/at_least_one.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combined Probability of Events (At least one) — at_least_one","text":"Updated mcmodule new combined probability node","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/at_least_one.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combined Probability of Events (At least one) — at_least_one","text":"","code":"module <- list(   node_list = list(     p1 = list(       mcnode = mcstoc(runif,         min = mcdata(c(0.1, 0.2, 0.3), type = \"0\", nvariates = 3),         max = mcdata(c(0.2, 0.3, 0.4), type = \"0\", nvariates = 3),         nvariates = 3       ),       data_name = \"data_x\",       keys = c(\"category\")     ),     p2 = list(       mcnode = mcstoc(runif,         min = mcdata(c(0.5, 0.6, 0.7), type = \"0\", nvariates = 3),         max = mcdata(c(0.6, 0.7, 0.8), type = \"0\", nvariates = 3),         nvariates = 3       ),       data_name = \"data_y\",       keys = c(\"category\")     )   ),   data = list(     data_x = data.frame(       category = c(\"A\", \"B\", \"C\"),       scenario_id = c(\"0\", \"0\", \"0\")     ),     data_y = data.frame(       category = c(\"B\", \"B\", \"B\"),       scenario_id = c(\"0\", \"1\", \"2\")     )   ) )  module <- at_least_one(module, c(\"p1\", \"p2\"), name = \"p_combined\") #> p1 prev dim: [1001, 1, 3], new dim: [1001, 1, 5], 0 null matches #> p2 prev dim: [1001, 1, 3], new dim: [1001, 1, 5], 2 null matches print(module$node_list$p_combined$summary) #>      mc_name scenario_id category      mean         sd       Min      2.5% #> 1 p_combined           0        A 0.1491116 0.02879645 0.1000217 0.1031230 #> 2 p_combined           0        B 0.6632784 0.02499801 0.6034675 0.6159164 #> 3 p_combined           0        C 0.3499510 0.02871474 0.3000104 0.3027019 #> 4 p_combined           1        B 0.7387655 0.02366101 0.6825085 0.6941183 #> 5 p_combined           2        B 0.8125573 0.02262975 0.7622558 0.7710237 #>         25%       50%       75%     97.5%       Max  nsv Na's #> 1 0.1236943 0.1484803 0.1741846 0.1963494 0.1998955 1001    0 #> 2 0.6447058 0.6633223 0.6817710 0.7094008 0.7167370 1001    0 #> 3 0.3241776 0.3517681 0.3739251 0.3973875 0.3999062 1001    0 #> 4 0.7208637 0.7402874 0.7577584 0.7790421 0.7863647 1001    0 #> 5 0.7943139 0.8128350 0.8307268 0.8508712 0.8585983 1001    0"},{"path":"https://nataliaciria.github.io/mcmodule/reference/combine_modules.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine Two Modules — combine_modules","title":"Combine Two Modules — combine_modules","text":"Combines two mcmodules single mcmodule merging data components.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/combine_modules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine Two Modules — combine_modules","text":"","code":"combine_modules(mcmodule_x, mcmodule_y)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/combine_modules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine Two Modules — combine_modules","text":"mcmodule_x First module combine mcmodule_y Second module combine","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/combine_modules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine Two Modules — combine_modules","text":"combined mcmodule object","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/combine_modules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine Two Modules — combine_modules","text":"","code":"module_x <- list(   data = list(data_x = data.frame(x = 1:3)),   node_list = list(     node1 = list(type = \"in_node\"),     node2 = list(type = \"out_node\")   ),   modules = c(\"module_x\"),   exp = quote({node2 <- node1 * 2}) )  module_y <- list(   data = list(data_y = data.frame(y = 4:6)),   node_list = list(node3 = list(type = \"out_node\")),   modules = c(\"module_y\"),   exp = quote({node3 <- node1 + node2}) )  module_xy <- combine_modules(module_x, module_y)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/create_mc_nodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Monte Carlo Nodes from Data and Configuration Table — create_mc_nodes","title":"Create Monte Carlo Nodes from Data and Configuration Table — create_mc_nodes","text":"Creates Monte Carlo nodes (mcnodes) based instructions provided configuration table (mctable) input variables dataframe.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/create_mc_nodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Monte Carlo Nodes from Data and Configuration Table — create_mc_nodes","text":"","code":"create_mc_nodes(data, mctable = set_mctable(), envir = parent.frame())"},{"path":"https://nataliaciria.github.io/mcmodule/reference/create_mc_nodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Monte Carlo Nodes from Data and Configuration Table — create_mc_nodes","text":"data data frame containing input variables creating Monte Carlo nodes mctable configuration table specifying MC node definitions. Must contain columns: mcnode: Name Monte Carlo node mc_func: Distribution function use (applicable) transformation: Optional transformation apply input data from_variable: Optional source variable name transformation envir Environment MC nodes created (default: parent.frame())","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/create_mc_nodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Monte Carlo Nodes from Data and Configuration Table — create_mc_nodes","text":"return value, creates MC nodes specified environment","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/create_mc_nodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Monte Carlo Nodes from Data and Configuration Table — create_mc_nodes","text":"","code":"create_mc_nodes(data = imports_data, mctable = imports_mctable)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/eval_module.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate a Monte Carlo Model Expression and create an mcmcmodule — eval_module","title":"Evaluate a Monte Carlo Model Expression and create an mcmcmodule — eval_module","text":"Takes set Monte Carlo model expressions evaluates creates mcmcmodule containing results metadata.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/eval_module.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate a Monte Carlo Model Expression and create an mcmcmodule — eval_module","text":"","code":"eval_module(   exp,   data,   param_names = NULL,   prev_mcmodule = NULL,   summary = FALSE,   mctable = set_mctable(),   data_keys = set_data_keys() )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/eval_module.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate a Monte Carlo Model Expression and create an mcmcmodule — eval_module","text":"exp Model expression list expressions evaluate data Input data frame containing model parameters param_names Named vector parameter renaming (optional) prev_mcmodule Previous module(s) dependent calculations summary Logical; whether calculate summary statistics mctable Monte Carlo configuration table data_keys List key columns dataset","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/eval_module.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate a Monte Carlo Model Expression and create an mcmcmodule — eval_module","text":"mcmodule object containing data, expressions, nodes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/eval_module.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate a Monte Carlo Model Expression and create an mcmcmodule — eval_module","text":"","code":"# Basic usage with single expression eval_module(   exp = imports_exp,   data = imports_data,   mctable = imports_mctable,   data_keys = imports_data_keys ) #>  #> imports evaluated #>  #> mcmodule created (expressions: ) #> $data #> $data$imports_data #>   pathogen origin h_prev_min h_prev_max w_prev_min w_prev_max farms_n #> 1        a   nord       0.08       0.10       0.15        0.2       5 #> 2        a  south       0.02       0.05       0.15        0.2      10 #> 3        a   east       0.10       0.15       0.15        0.2       7 #> 4        b   nord       0.50       0.70       0.45        0.6       5 #> 5        b  south       0.25       0.30       0.37        0.4      10 #> 6        b   east       0.30       0.50       0.45        0.6       7 #>   animals_n_mean animals_n_sd test_origin test_sensi_min test_sensi_mode #> 1            100            6   sometimes           0.89            0.90 #> 2            130           10   sometimes           0.89            0.90 #> 3            140           12       never           0.89            0.90 #> 4            100            2      always           0.80            0.85 #> 5            130            4   sometimes           0.80            0.85 #> 6            140            3     unknown           0.80            0.85 #>   test_sensi_max #> 1           0.91 #> 2           0.91 #> 3           0.91 #> 4           0.90 #> 5           0.90 #> 6           0.90 #>  #>  #> $exp #> { #>     inf_a <- w_prev #>     false_neg_a <- inf_a * test_origin * (1 - test_sensi) #>     no_test_a <- inf_a * (1 - test_origin) #>     no_detect_a <- false_neg_a + no_test_a #> } #>  #> $node_list #> $node_list$w_prev #> $node_list$w_prev$type #> [1] \"in_node\" #>  #> $node_list$w_prev$mc_func #> [1] \"runif\" #>  #> $node_list$w_prev$description #> [1] \"Within herd prevalence\" #>  #> $node_list$w_prev$inputs_col #> [1] \"w_prev_min\" \"w_prev_max\" #>  #> $node_list$w_prev$input_dataset #> [1] \"prevalence_region\" #>  #> $node_list$w_prev$keys #> [1] \"pathogen\" \"origin\"   #>  #> $node_list$w_prev$module #> [1] \"imports\" #>  #> $node_list$w_prev$mc_name #> [1] \"w_prev\" #>  #> $node_list$w_prev$mcnode #>   node    mode  nsv nsu nva variate  min  mean median max Nas type outm #> 1    x numeric 1001   1   6       1 0.15 0.176  0.176 0.2   0    V each #> 2    x numeric 1001   1   6       2 0.15 0.175  0.175 0.2   0    V each #> 3    x numeric 1001   1   6       3 0.15 0.175  0.175 0.2   0    V each #> 4    x numeric 1001   1   6       4 0.45 0.525  0.523 0.6   0    V each #> 5    x numeric 1001   1   6       5 0.37 0.385  0.385 0.4   0    V each #> 6    x numeric 1001   1   6       6 0.45 0.525  0.524 0.6   0    V each #>  #> $node_list$w_prev$data_name #> [1] \"imports_data\" #>  #>  #> $node_list$test_origin #> $node_list$test_origin$type #> [1] \"in_node\" #>  #> $node_list$test_origin$description #> [1] \"Probability of the animals being tested in origin\" #>  #> $node_list$test_origin$inputs_col #> [1] \"test_origin\" #>  #> $node_list$test_origin$input_dataset #> [1] \"prevalence_region\" #>  #> $node_list$test_origin$keys #> [1] \"pathogen\" \"origin\"   #>  #> $node_list$test_origin$module #> [1] \"imports\" #>  #> $node_list$test_origin$mc_name #> [1] \"test_origin\" #>  #> $node_list$test_origin$mcnode #>   node    mode nsv nsu nva variate min mean median max Nas type outm #> 1    x numeric   1   1   6       1 0.5  0.5    0.5 0.5   0    0 each #> 2    x numeric   1   1   6       2 0.5  0.5    0.5 0.5   0    0 each #> 3    x numeric   1   1   6       3 0.0  0.0    0.0 0.0   0    0 each #> 4    x numeric   1   1   6       4 1.0  1.0    1.0 1.0   0    0 each #> 5    x numeric   1   1   6       5 0.5  0.5    0.5 0.5   0    0 each #> 6    x numeric   1   1   6       6 0.0  0.0    0.0 0.0   0    0 each #>  #> $node_list$test_origin$data_name #> [1] \"imports_data\" #>  #>  #> $node_list$test_sensi #> $node_list$test_sensi$type #> [1] \"in_node\" #>  #> $node_list$test_sensi$mc_func #> [1] \"rpert\" #>  #> $node_list$test_sensi$description #> [1] \"Test sensitivity\" #>  #> $node_list$test_sensi$inputs_col #> [1] \"test_sensi_min\"  \"test_sensi_mode\" \"test_sensi_max\"  #>  #> $node_list$test_sensi$input_dataset #> [1] \"test_sensitivity\" #>  #> $node_list$test_sensi$keys #> [1] \"pathogen\" #>  #> $node_list$test_sensi$module #> [1] \"imports\" #>  #> $node_list$test_sensi$mc_name #> [1] \"test_sensi\" #>  #> $node_list$test_sensi$mcnode #>   node    mode  nsv nsu nva variate   min  mean median   max Nas type outm #> 1    x numeric 1001   1   6       1 0.891 0.900  0.900 0.909   0    V each #> 2    x numeric 1001   1   6       2 0.891 0.900  0.900 0.910   0    V each #> 3    x numeric 1001   1   6       3 0.891 0.900  0.900 0.909   0    V each #> 4    x numeric 1001   1   6       4 0.801 0.850  0.850 0.893   0    V each #> 5    x numeric 1001   1   6       5 0.802 0.851  0.851 0.896   0    V each #> 6    x numeric 1001   1   6       6 0.802 0.850  0.851 0.891   0    V each #>  #> $node_list$test_sensi$data_name #> [1] \"imports_data\" #>  #>  #> $node_list$inf_a #> $node_list$inf_a$node_exp #> [1] \"w_prev\" #>  #> $node_list$inf_a$type #> [1] \"out_node\" #>  #> $node_list$inf_a$inputs #> [1] \"w_prev\" #>  #> $node_list$inf_a$module #> [1] \"imports\" #>  #> $node_list$inf_a$mc_name #> [1] \"inf_a\" #>  #> $node_list$inf_a$keys #> [1] \"pathogen\" \"origin\"   #>  #> $node_list$inf_a$param #> [1] \"w_prev\" #>  #> $node_list$inf_a$mcnode #>   node    mode  nsv nsu nva variate  min  mean median max Nas type outm #> 1    x numeric 1001   1   6       1 0.15 0.176  0.176 0.2   0    V each #> 2    x numeric 1001   1   6       2 0.15 0.175  0.175 0.2   0    V each #> 3    x numeric 1001   1   6       3 0.15 0.175  0.175 0.2   0    V each #> 4    x numeric 1001   1   6       4 0.45 0.525  0.523 0.6   0    V each #> 5    x numeric 1001   1   6       5 0.37 0.385  0.385 0.4   0    V each #> 6    x numeric 1001   1   6       6 0.45 0.525  0.524 0.6   0    V each #>  #> $node_list$inf_a$data_name #> [1] \"imports_data\" #>  #>  #> $node_list$false_neg_a #> $node_list$false_neg_a$node_exp #> [1] \"inf_a * test_origin * (1 - test_sensi)\" #>  #> $node_list$false_neg_a$type #> [1] \"out_node\" #>  #> $node_list$false_neg_a$inputs #> [1] \"inf_a\"       \"test_origin\" \"test_sensi\"  #>  #> $node_list$false_neg_a$module #> [1] \"imports\" #>  #> $node_list$false_neg_a$mc_name #> [1] \"false_neg_a\" #>  #> $node_list$false_neg_a$keys #> [1] \"pathogen\" \"origin\"   #>  #> $node_list$false_neg_a$param #> [1] \"inf_a\"       \"test_origin\" \"test_sensi\"  #>  #> $node_list$false_neg_a$mcnode #>   node    mode  nsv nsu nva variate     min    mean  median    max Nas type #> 1    x numeric 1001   1   6       1 0.00700 0.00876 0.00879 0.0107   0    V #> 2    x numeric 1001   1   6       2 0.00703 0.00873 0.00871 0.0107   0    V #> 3    x numeric 1001   1   6       3 0.00000 0.00000 0.00000 0.0000   0    V #> 4    x numeric 1001   1   6       4 0.04955 0.07879 0.07882 0.1160   0    V #> 5    x numeric 1001   1   6       5 0.01960 0.02873 0.02872 0.0394   0    V #> 6    x numeric 1001   1   6       6 0.00000 0.00000 0.00000 0.0000   0    V #>   outm #> 1 each #> 2 each #> 3 each #> 4 each #> 5 each #> 6 each #>  #> $node_list$false_neg_a$data_name #> [1] \"imports_data\" #>  #>  #> $node_list$no_test_a #> $node_list$no_test_a$node_exp #> [1] \"inf_a * (1 - test_origin)\" #>  #> $node_list$no_test_a$type #> [1] \"out_node\" #>  #> $node_list$no_test_a$inputs #> [1] \"inf_a\"       \"test_origin\" #>  #> $node_list$no_test_a$module #> [1] \"imports\" #>  #> $node_list$no_test_a$mc_name #> [1] \"no_test_a\" #>  #> $node_list$no_test_a$keys #> [1] \"pathogen\" \"origin\"   #>  #> $node_list$no_test_a$param #> [1] \"inf_a\"       \"test_origin\" #>  #> $node_list$no_test_a$mcnode #>   node    mode  nsv nsu nva variate   min   mean median max Nas type outm #> 1    x numeric 1001   1   6       1 0.075 0.0878 0.0882 0.1   0    V each #> 2    x numeric 1001   1   6       2 0.075 0.0875 0.0873 0.1   0    V each #> 3    x numeric 1001   1   6       3 0.150 0.1748 0.1749 0.2   0    V each #> 4    x numeric 1001   1   6       4 0.000 0.0000 0.0000 0.0   0    V each #> 5    x numeric 1001   1   6       5 0.185 0.1927 0.1927 0.2   0    V each #> 6    x numeric 1001   1   6       6 0.450 0.5254 0.5240 0.6   0    V each #>  #> $node_list$no_test_a$data_name #> [1] \"imports_data\" #>  #>  #> $node_list$no_detect_a #> $node_list$no_detect_a$node_exp #> [1] \"false_neg_a + no_test_a\" #>  #> $node_list$no_detect_a$type #> [1] \"out_node\" #>  #> $node_list$no_detect_a$inputs #> [1] \"false_neg_a\" \"no_test_a\"   #>  #> $node_list$no_detect_a$module #> [1] \"imports\" #>  #> $node_list$no_detect_a$mc_name #> [1] \"no_detect_a\" #>  #> $node_list$no_detect_a$keys #> [1] \"pathogen\" \"origin\"   #>  #> $node_list$no_detect_a$param #> [1] \"false_neg_a\" \"no_test_a\"   #>  #> $node_list$no_detect_a$mcnode #>   node    mode  nsv nsu nva variate    min   mean median   max Nas type outm #> 1    x numeric 1001   1   6       1 0.0821 0.0965 0.0970 0.111   0    V each #> 2    x numeric 1001   1   6       2 0.0823 0.0962 0.0961 0.110   0    V each #> 3    x numeric 1001   1   6       3 0.1501 0.1748 0.1749 0.200   0    V each #> 4    x numeric 1001   1   6       4 0.0496 0.0788 0.0788 0.116   0    V each #> 5    x numeric 1001   1   6       5 0.2054 0.2214 0.2210 0.238   0    V each #> 6    x numeric 1001   1   6       6 0.4501 0.5254 0.5240 0.600   0    V each #>  #> $node_list$no_detect_a$data_name #> [1] \"imports_data\" #>  #>  #>  #> $modules #> [1] \"imports\" #>  #> attr(,\"class\") #> [1] \"mcmodule\""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_edge_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Edge Table for Network Construction — get_edge_table","title":"Generate Edge Table for Network Construction — get_edge_table","text":"Creates data frame containing edge relationships nodes Monte Carlo module network. row represents directed edge one node another.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_edge_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Edge Table for Network Construction — get_edge_table","text":"","code":"get_edge_table(mcmodule, inputs = FALSE)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_edge_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Edge Table for Network Construction — get_edge_table","text":"mcmodule mcmodule object containing node relationships inputs Include non-node inputs: data-sets, data-frames columns (optional)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_edge_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Edge Table for Network Construction — get_edge_table","text":"data frame columns node_from node_to representing network edges","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_edge_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Edge Table for Network Construction — get_edge_table","text":"","code":"edge_table <- get_edge_table(imports_mcmodule)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_mcmodule_nodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Nodes from Monte Carlo Module — get_mcmodule_nodes","title":"Get Nodes from Monte Carlo Module — get_mcmodule_nodes","text":"Retrieves nodes Monte Carlo module assigns parent environment","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_mcmodule_nodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Nodes from Monte Carlo Module — get_mcmodule_nodes","text":"","code":"get_mcmodule_nodes(mcmodule, mc_names = NULL, envir = parent.frame())"},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_mcmodule_nodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Nodes from Monte Carlo Module — get_mcmodule_nodes","text":"mcmodule mcmodule mcnode_list object mc_names Optional vector node names retrieve envir Environment MC nodes created (default: parent.frame())","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_mcmodule_nodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Nodes from Monte Carlo Module — get_mcmodule_nodes","text":"subset node list containing requested nodes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Node List from Model Expression — get_node_list","title":"Create Node List from Model Expression — get_node_list","text":"Creates list nodes based given model expression, handling input, output, previous nodes properties relationships.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Node List from Model Expression — get_node_list","text":"","code":"get_node_list(   exp,   param_names = NULL,   mctable = set_mctable(),   data_keys = set_data_keys() )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Node List from Model Expression — get_node_list","text":"exp R expression containing model calculations param_names Optional named vector parameter renaming mctable Reference table  mcnodes, defaults set_mctable() data_keys Data structure keys, defaults set_data_keys()","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Node List from Model Expression — get_node_list","text":"list class \"mcnode_list\" containing node information","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Node List from Model Expression — get_node_list","text":"","code":"if (FALSE) { # \\dontrun{ get_node_list(exp = imports_exp, mctable = imports_mctable, data_keys = imports_data_keys) } # }"},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Node Table for Network Construction — get_node_table","title":"Generate Node Table for Network Construction — get_node_table","text":"Creates data frame containing node information Monte Carlo module network. Includes node attributes, values, relationships.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Node Table for Network Construction — get_node_table","text":"","code":"get_node_table(mcmodule, variate = 1, inputs = FALSE)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Node Table for Network Construction — get_node_table","text":"mcmodule mcmodule object containing node information variate Integer indicating variate extract (default: 1) inputs Include non-node inputs: data-sets, data-frames columns (optional)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Node Table for Network Construction — get_node_table","text":"data frame containing node information attributes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/get_node_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Node Table for Network Construction — get_node_table","text":"","code":"node_table <- get_node_table(imports_mcmodule)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Merged Import Data for Risk Assessment — imports_data","title":"Merged Import Data for Risk Assessment — imports_data","text":"dataset combining information animal imports, pathogen prevalence, test sensitivity across regions","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merged Import Data for Risk Assessment — imports_data","text":"","code":"imports_data"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data.html","id":"imports-data","dir":"Reference","previous_headings":"","what":"imports_data","title":"Merged Import Data for Risk Assessment — imports_data","text":"data frame 6 rows 12 columns: pathogen Pathogen identifier (b) origin Region origin (nord, south, east) h_prev_min Minimum herd prevalence value h_prev_max Maximum herd prevalence value w_prev_min Minimum within-herd prevalence value w_prev_max Maximum within-herd prevalence value farms_n Number farms exporting animals animals_n_mean Mean number animals exported per farm animals_n_sd Standard deviation animals exported per farm test_origin Test used detect infected animals origin test_sensi_min Minimum test sensitivity value test_sensi_mode likely test sensitivity value test_sensi_max Maximum test sensitivity value","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Merged Import Data for Risk Assessment — imports_data","text":"Simulated data demonstration purposes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data_keys.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Data Keys for Animal Imports Risk Assessment — imports_data_keys","title":"Example Data Keys for Animal Imports Risk Assessment — imports_data_keys","text":"hierarchical data structure containing test sensitivity, animal import, regional prevalence information, defined columns keys.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data_keys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example Data Keys for Animal Imports Risk Assessment — imports_data_keys","text":"","code":"imports_data_keys"},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data_keys.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example Data Keys for Animal Imports Risk Assessment — imports_data_keys","text":"list three components: test_sensitivity List containing column names test sensitivity data \"pathogen\" key animal_imports List containing column names animal import data \"origin\" key prevalence_region List containing column names prevalence data \"pathogen\" \"origin\" keys","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_data_keys.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Data Keys for Animal Imports Risk Assessment — imports_data_keys","text":"Simulated data demonstration purposes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_exp.html","id":null,"dir":"Reference","previous_headings":"","what":"Expression for calculating import infection probability — imports_exp","title":"Expression for calculating import infection probability — imports_exp","text":"quoted R expression calculates probability importing infected animal infected herd, taking account testing procedures accuracy.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_exp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expression for calculating import infection probability — imports_exp","text":"","code":"imports_exp"},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_exp.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Expression for calculating import infection probability — imports_exp","text":"quoted R expression containing following variables: w_prev Within-herd prevalence test_origin Probability testing origin test_sensi Test sensitivity inf_a Probability animal infected false_neg_a Probability false negative test result no_test_a Probability testing no_detect_a Overall probability non-detection","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mcmodule.html","id":null,"dir":"Reference","previous_headings":"","what":"Example mcmodule object containing Monte Carlo simulation results Animal Imports Risk Assessment — imports_mcmodule","title":"Example mcmodule object containing Monte Carlo simulation results Animal Imports Risk Assessment — imports_mcmodule","text":"list containing simulation results pathogen testing animal imports different origins, including: Within-herd prevalence (w_prev) Test sensitivity (test_sensi) Test origin probability (test_origin) Infection probability (inf_a) False negative probability (false_neg_a) test probability (no_test_a) Non-detection probability (no_detect_a)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mcmodule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example mcmodule object containing Monte Carlo simulation results Animal Imports Risk Assessment — imports_mcmodule","text":"","code":"imports_mcmodule"},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mcmodule.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example mcmodule object containing Monte Carlo simulation results Animal Imports Risk Assessment — imports_mcmodule","text":"mcmodule object following components: data Input data frame 6 rows 13 variables exp Model expressions calculating probabilities node_list List Monte Carlo nodes simulation results modules Character vector module names","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mcmodule.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example mcmodule object containing Monte Carlo simulation results Animal Imports Risk Assessment — imports_mcmodule","text":"Simulated data demonstration purposes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mctable.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Monte Carlo Input Table for Import Risk Assessment — imports_mctable","title":"Example Monte Carlo Input Table for Import Risk Assessment — imports_mctable","text":"configured table Monte Carlo nodes used modeling import risk scenarios, particularly focused animal disease transmission pathways.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mctable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example Monte Carlo Input Table for Import Risk Assessment — imports_mctable","text":"","code":"imports_mctable"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mctable.html","id":"imports-mctable","dir":"Reference","previous_headings":"","what":"imports_mctable","title":"Example Monte Carlo Input Table for Import Risk Assessment — imports_mctable","text":"data frame 7 rows 6 columns: mcnode Node identifier used Monte Carlo simulations description Human-readable description node represents mc_func R function used random number generation (e.g., runif, rnorm, rpert) from_variable Dependency reference variables applicable transformation Mathematical transformations applied node values sensi_analysis Logical flag indicating node included sensitivity analysis","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/imports_mctable.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example Monte Carlo Input Table for Import Risk Assessment — imports_mctable","text":"Simulated data demonstration purposes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/keys_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Match and align keys between two datasets — keys_match","title":"Match and align keys between two datasets — keys_match","text":"Match align keys two datasets","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/keys_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match and align keys between two datasets — keys_match","text":"","code":"keys_match(x, y, keys_names = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/keys_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match and align keys between two datasets — keys_match","text":"x First dataset containing keys match y Second dataset containing keys match keys_names Names columns use matching keys. NULL, uses common columns","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/keys_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match and align keys between two datasets — keys_match","text":"List containing: x First dataset group IDs y Second dataset group IDs xy Matched datasets aligned group scenario IDs","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/keys_match.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match and align keys between two datasets — keys_match","text":"","code":"if (FALSE) { # \\dontrun{ x <- data.frame(   type = c(\"1\", \"2\"),   category = c(\"a\", \"b\"),   scenario_id = c(0, 1) )  y <- data.frame(    type = c(\"1\", \"2\"),    category = c(\"c\", \"d\"),    scenario_id = c(0, 2)  )  keys_match(x, y) } # }"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_keys.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Monte Carlo Node Keys — mc_keys","title":"Get Monte Carlo Node Keys — mc_keys","text":"Extracts key columns Monte Carlo node's associated data.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_keys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Monte Carlo Node Keys — mc_keys","text":"","code":"mc_keys(mcmodule, mc_name, keys_names = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_keys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Monte Carlo Node Keys — mc_keys","text":"mcmodule Monte Carlo module containing nodes data mc_name Name node extract keys keys_names Vector column names extract (optional)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_keys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Monte Carlo Node Keys — mc_keys","text":"Dataframe scenario_id requested key columns","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_keys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Monte Carlo Node Keys — mc_keys","text":"","code":"keys_df <- mc_keys(imports_mcmodule, \"w_prev\")"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Match Monte Carlo Nodes — mc_match","title":"Match Monte Carlo Nodes — mc_match","text":"Matches two mcnodes : Group matching - Align nodes scenarios different group order Scenario matching - Align nodes groups different scenarios Null matching - Add missing groups across different scenarios","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match Monte Carlo Nodes — mc_match","text":"","code":"mc_match(mcmodule, mc_name_x, mc_name_y, keys_names = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match Monte Carlo Nodes — mc_match","text":"mcmodule Monte Carlo module mc_name_x First node name mc_name_y Second node name keys_names Names key columns","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match Monte Carlo Nodes — mc_match","text":"List containing matched nodes combined keys (keys_xy)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match Monte Carlo Nodes — mc_match","text":"","code":"test_module <- list(   node_list = list(     node_x = list(       mcnode = mcstoc(runif,         min = mcdata(c(1, 2, 3), type = \"0\", nvariates = 3),         max = mcdata(c(2, 3, 4), type = \"0\", nvariates = 3),         nvariates = 3       ),       data_name = \"data_x\",       keys = c(\"category\")     ),     node_y = list(       mcnode = mcstoc(runif,         min = mcdata(c(5, 6, 7), type = \"0\", nvariates = 3),         max = mcdata(c(6, 7, 8), type = \"0\", nvariates = 3),         nvariates = 3       ),       data_name = \"data_y\",       keys = c(\"category\")     )   ),   data = list(     data_x = data.frame(       category = c(\"A\", \"B\", \"C\"),       scenario_id = c(\"0\", \"0\", \"0\")     ),     data_y = data.frame(       category = c(\"B\", \"B\", \"B\"),       scenario_id = c(\"0\", \"1\", \"2\")     )   ) )  result <- mc_match(test_module, \"node_x\", \"node_y\") #> Group by: category #> node_x prev dim: [1001, 1, 3], new dim: [1001, 1, 5], 0 null matches #> node_y prev dim: [1001, 1, 3], new dim: [1001, 1, 5], 2 null matches"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Match Monte Carlo Node with other data frame — mc_match_data","title":"Match Monte Carlo Node with other data frame — mc_match_data","text":"Matches mcnode data frame : Group matching - scenarios different group order Scenario matching - groups different scenarios Null matching - Add missing groups across different scenarios","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match Monte Carlo Node with other data frame — mc_match_data","text":"","code":"mc_match_data(mcmodule, mc_name, data, keys_names = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match Monte Carlo Node with other data frame — mc_match_data","text":"mcmodule Monte Carlo module mc_name Node name data Data frame containing keys match keys_names Names key columns","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match Monte Carlo Node with other data frame — mc_match_data","text":"List containing matched node, matched data combined keys (keys_xy","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_match_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match Monte Carlo Node with other data frame — mc_match_data","text":"","code":"test_data  <- data.frame(pathogen=c(\"a\",\"b\"),                          inf_dc_min=c(0.05,0.3),                          inf_dc_max=c(0.08,0.4)) result<-mc_match_data(imports_mcmodule,\"no_detect_a\", test_data) #> Group by: pathogen #> no_detect_a prev dim: [1001, 1, 6], new dim: [1001, 1, 6], 0 null matches #> test_data prev dim: [2, 3], new dim: [6, 4], 0 null matches"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_network.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Interactive Network Visualization — mc_network","title":"Create Interactive Network Visualization — mc_network","text":"Generates interactive network visualization using visNetwork library. visualization includes interactive features exploring model structure relationships.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_network.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Interactive Network Visualization — mc_network","text":"","code":"mc_network(   mcmodule,   variate = 1,   color_pal = NULL,   color_by = NULL,   legend = FALSE,   inputs = FALSE )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_network.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Interactive Network Visualization — mc_network","text":"mcmodule mcmodule object variate Integer specifying variate visualize (default: 1) color_pal Custom color palette nodes (optional) color_by Column name determine node colors (optional) legend Show colors legend (optional) inputs Show non-node inputs: data-sets, data-frames columns (optional)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_network.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Interactive Network Visualization — mc_network","text":"interactive visNetwork object features: Highlighting connected nodes Node selection filtering module Directional arrows showing relationships Hierarchical layout Draggable nodes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_network.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Interactive Network Visualization — mc_network","text":"","code":"if (FALSE) { # \\dontrun{ network <- mc_network(mcmodule=imports_mcmodule) } # }"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute summary statistics for an mcnode object — mc_summary","title":"Compute summary statistics for an mcnode object — mc_summary","text":"Compute summary statistics mcnode object","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute summary statistics for an mcnode object — mc_summary","text":"","code":"mc_summary(   mcmodule = NULL,   mc_name = NULL,   keys_names = NULL,   data = NULL,   mcnode = NULL,   sep_keys = TRUE,   digits = NULL )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute summary statistics for an mcnode object — mc_summary","text":"mcmodule mcmodule object containing node summarize mc_name Character string specifying name mcnode module keys_names Vector column names use keys grouping (default: NULL) data Optional data frame containing input data (default: NULL) mcnode Optional mcnode object summarize directly (default: NULL) sep_keys Logical; TRUE, keeps keys separate columns (default: TRUE) digits Integer indicating number significant digits rounding (default: NULL)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute summary statistics for an mcnode object — mc_summary","text":"data frame containing summary statistics columns: mc_name: Name mcnode keys: Grouping variables (sep_keys=FALSE) individual key columns (sep_keys=TRUE) Summary statistics including: mean: Average value sd: Standard deviation Various quantiles (2.5%, 25%, 50%, 75%, 97.5%)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute summary statistics for an mcnode object — mc_summary","text":"function can called two ways: providing mcmodule mc_name providing data mcnode directly","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute summary statistics for an mcnode object — mc_summary","text":"","code":"# Use with mcmodule summary_basic <- mc_summary(imports_mcmodule, \"w_prev\")  # Using custom keys and rounding summary_custom <- mc_summary(imports_mcmodule, \"w_prev\",   keys_names = c(\"origin\"),   digits = 3 )  # Use with data and mcnode w_prev <- imports_mcmodule$node_list$w_prev$mcnode summary_direct <- mc_summary(   data = imports_data,   mcnode = w_prev,   sep_keys = FALSE )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary_keys.html","id":null,"dir":"Reference","previous_headings":"","what":"Get mcnode summary keys — mc_summary_keys","title":"Get mcnode summary keys — mc_summary_keys","text":"Get mcnode summary keys","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary_keys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get mcnode summary keys — mc_summary_keys","text":"","code":"mc_summary_keys(mcsummary)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary_keys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get mcnode summary keys — mc_summary_keys","text":"mcsummary data frame mc_summary()","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mc_summary_keys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get mcnode summary keys — mc_summary_keys","text":"vector key names","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_converg.html","id":null,"dir":"Reference","previous_headings":"","what":"Monte Carlo Simulation Convergence Analysis — mcmodule_converg","title":"Monte Carlo Simulation Convergence Analysis — mcmodule_converg","text":"Analyzes convergence Monte Carlo simulations computing statistical measures across iterations. Calculates standardized raw differences consecutive iterations evaluate stability convergence.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_converg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Monte Carlo Simulation Convergence Analysis — mcmodule_converg","text":"","code":"mcmodule_converg(   mcmodule,   from_quantile = 0.95,   to_quantile = 1,   conv_threshold = NULL )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_converg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Monte Carlo Simulation Convergence Analysis — mcmodule_converg","text":"mcmodule Monte Carlo module object containing simulation results from_quantile Lower bound quantile analysis (default: 0.95) to_quantile Upper bound quantile analysis (default: 1) conv_threshold Optional custom convergence threshold standardized differences","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_converg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Monte Carlo Simulation Convergence Analysis — mcmodule_converg","text":"data frame convergence statistics per node: expression: Expression identifier variate: Variate identifier node: Node identifier max_std_dif: Max standardized differences max_dif: Max raw differences conv_threshold: Convergence custom threshold (TRUE/FALSE), threshold provided conv_01: Convergence 1% std threshold (TRUE/FALSE) conv_025: Convergence 2.5% std threshold (TRUE/FALSE) conv_05: Convergence 5% std threshold (TRUE/FALSE)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_converg.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Monte Carlo Simulation Convergence Analysis — mcmodule_converg","text":"function performs following: Calculates convergence statistics specified quantile range Generates diagnostic plots standardized raw differences Provides detailed convergence summary including: Total nodes analyzed Number percentage nodes converged different thresholds Maximum/minimum deviations List non-converged nodes ()","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_converg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Monte Carlo Simulation Convergence Analysis — mcmodule_converg","text":"","code":"if (FALSE) { # \\dontrun{ results <- mcmodule_converg(mc_results) results <- mcmodule_converg(mc_results, from_quantile = 0.90, conv_threshold = 0.01) } # }"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Monte Carlo Module Index — mcmodule_index","title":"Monte Carlo Module Index — mcmodule_index","text":"Monte Carlo Module Index","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Monte Carlo Module Index — mcmodule_index","text":"","code":"mcmodule_index(mcmodule)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Monte Carlo Module Index — mcmodule_index","text":"mcmodule Monte Carlo module object","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Monte Carlo Module Index — mcmodule_index","text":"list containing expression data, data keys, global keys","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_rel_change.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Relative Change in Monte Carlo Module — mcmodule_rel_change","title":"Calculate Relative Change in Monte Carlo Module — mcmodule_rel_change","text":"Calculate Relative Change Monte Carlo Module","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_rel_change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Relative Change in Monte Carlo Module — mcmodule_rel_change","text":"","code":"mcmodule_rel_change(   mcmodule_def,   mcmodule_alt,   mc_names = NULL,   mcnode_admin = mcnode_admin )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_rel_change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Relative Change in Monte Carlo Module — mcmodule_rel_change","text":"mcmodule_def Default mcmoduleduction module mcmodule_alt Alternative mcmoduleduction module mc_names Optional names Monte Carlo nodes mcnode_admin Monte Carlo node administration object","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_rel_change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Relative Change in Monte Carlo Module — mcmodule_rel_change","text":"Modified mcmodule relative changes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_spearman.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Spearman Correlation for Monte Carlo Module — mcmodule_spearman","title":"Calculate Spearman Correlation for Monte Carlo Module — mcmodule_spearman","text":"Calculate Spearman Correlation Monte Carlo Module","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_spearman.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Spearman Correlation for Monte Carlo Module — mcmodule_spearman","text":"","code":"mcmodule_spearman(mcmodule, agg_output = \"total_agg\")"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_spearman.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Spearman Correlation for Monte Carlo Module — mcmodule_spearman","text":"mcmodule Monte Carlo module object agg_output Name aggregated output, defaults \"total_agg\"","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcmodule_spearman.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Spearman Correlation for Monte Carlo Module — mcmodule_spearman","text":"Data frame Spearman correlation results","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcnode_na_rm.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace NA and Infinite Values in mcnode Objects — mcnode_na_rm","title":"Replace NA and Infinite Values in mcnode Objects — mcnode_na_rm","text":"Replaces NA infinite values mcnode objects specified value.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcnode_na_rm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace NA and Infinite Values in mcnode Objects — mcnode_na_rm","text":"","code":"mcnode_na_rm(mcnode, na_value = 0)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcnode_na_rm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace NA and Infinite Values in mcnode Objects — mcnode_na_rm","text":"mcnode mcnode object containing NA infinite values na_value Numeric value replace NA infinite values (default = 0)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcnode_na_rm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace NA and Infinite Values in mcnode Objects — mcnode_na_rm","text":"mcnode object NA infinite values replaced na_value","code":""},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/reference/mcnode_na_rm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace NA and Infinite Values in mcnode Objects — mcnode_na_rm","text":"","code":"sample_mcnode <- mcstoc(runif,                min = mcdata(c(NA, 0.2, -Inf), type = \"0\", nvariates = 3),                max = mcdata(c(NA, 0.3, Inf), type = \"0\", nvariates = 3),                nvariates = 3 ) #> Warning: NAs produced #> Warning: NAs produced # Replace NA and Inf with 0 clean_mcnode <- mcnode_na_rm(sample_mcnode)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/node_list_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Include summary and keys in node_list — node_list_summary","title":"Include summary and keys in node_list — node_list_summary","text":"Include summary keys node_list","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/node_list_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Include summary and keys in node_list — node_list_summary","text":"","code":"node_list_summary(mcmodule = NULL, data = NULL, node_list = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/node_list_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Include summary and keys in node_list — node_list_summary","text":"mcmodule mc module object data data frame mc inputs node_list list nodes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/node_list_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Include summary and keys in node_list — node_list_summary","text":"updated node_list","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/prevalence_region.html","id":null,"dir":"Reference","previous_headings":"","what":"Regional Prevalence Data — prevalence_region","title":"Regional Prevalence Data — prevalence_region","text":"dataset containing prevalence information two pathogens across three regions","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/prevalence_region.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Regional Prevalence Data — prevalence_region","text":"","code":"prevalence_region"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/reference/prevalence_region.html","id":"prevalence-region","dir":"Reference","previous_headings":"","what":"prevalence_region","title":"Regional Prevalence Data — prevalence_region","text":"data frame 6 rows 4 columns: pathogen Pathogen identifier (b) origin Region origin (nord, south, east) h_prev_min Minimum herd prevalence value h_prev_max Maximum herd prevalence value w_prev_min Minimum within-herd prevalence value w_prev_max Maximum within-herd prevalence value test_origin Test used detect infected animals origin","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/prevalence_region.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Regional Prevalence Data — prevalence_region","text":"Simulated data demonstration purposes","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/reset_data_keys.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset Data Keys — reset_data_keys","title":"Reset Data Keys — reset_data_keys","text":"Resets data model empty list","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/reset_data_keys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset Data Keys — reset_data_keys","text":"","code":"reset_data_keys()"},{"path":"https://nataliaciria.github.io/mcmodule/reference/reset_data_keys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset Data Keys — reset_data_keys","text":"return value, resets data keys","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/reset_data_keys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reset Data Keys — reset_data_keys","text":"","code":"reset_data_keys() #> data_keys reset"},{"path":"https://nataliaciria.github.io/mcmodule/reference/reset_mctable.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset Monte Carlo Inputs Table — reset_mctable","title":"Reset Monte Carlo Inputs Table — reset_mctable","text":"Resets Monte Carlo inputs table","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/reset_mctable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset Monte Carlo Inputs Table — reset_mctable","text":"","code":"reset_mctable()"},{"path":"https://nataliaciria.github.io/mcmodule/reference/reset_mctable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset Monte Carlo Inputs Table — reset_mctable","text":"empty data frame standard mctable structure","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_data_keys.html","id":null,"dir":"Reference","previous_headings":"","what":"Set or Get Global Data Keys — set_data_keys","title":"Set or Get Global Data Keys — set_data_keys","text":"Manages global data model either setting new data keys retrieving current ones. data model consists named lists containing column names associated key columns.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_data_keys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set or Get Global Data Keys — set_data_keys","text":"","code":"set_data_keys(data_keys = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_data_keys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set or Get Global Data Keys — set_data_keys","text":"data_keys Optional list lists. inner list must contain: cols: vector containing column names data keys: vector specifying key columns NULL, returns current data model.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_data_keys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set or Get Global Data Keys — set_data_keys","text":"data_keys = NULL: Returns current global data model data_keys provided: Sets new data model returns invisibly","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_data_keys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set or Get Global Data Keys — set_data_keys","text":"","code":"print(imports_data_keys) #> $test_sensitivity #> $test_sensitivity$cols #> [1] \"pathogen\"        \"test_sensi_min\"  \"test_sensi_mode\" \"test_sensi_max\"  #>  #> $test_sensitivity$keys #> [1] \"pathogen\" #>  #>  #> $animal_imports #> $animal_imports$cols #> [1] \"origin\"         \"farms_n\"        \"animals_n_mean\" \"animals_n_sd\"   #>  #> $animal_imports$keys #> [1] \"origin\" #>  #>  #> $prevalence_region #> $prevalence_region$cols #> [1] \"pathogen\"    \"origin\"      \"h_prev_min\"  \"h_prev_max\"  \"w_prev_min\"  #> [6] \"w_prev_max\"  \"test_origin\" #>  #> $prevalence_region$keys #> [1] \"pathogen\" \"origin\"   #>  #>  set_data_keys(imports_data_keys) #> data_keys set to imports_data_keys"},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_mctable.html","id":null,"dir":"Reference","previous_headings":"","what":"Set or Get Monte Carlo Inputs Table — set_mctable","title":"Set or Get Monte Carlo Inputs Table — set_mctable","text":"Manages Monte Carlo inputs table global package environment either setting new data retrieving current table. table stores information Monte Carlo nodes including descriptions, functions, dependencies, sensitivity analysis settings.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_mctable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set or Get Monte Carlo Inputs Table — set_mctable","text":"","code":"set_mctable(data = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_mctable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set or Get Monte Carlo Inputs Table — set_mctable","text":"data Optional data frame containing MC table information. Must contain 'mcnode' column. columns auto-filled missing. NULL, returns current MC table.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_mctable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set or Get Monte Carlo Inputs Table — set_mctable","text":"data = NULL: Returns current MC table data provided: Sets new MC table returns invisibly table contains following columns: mcnode - Character. Name Monte Carlo node (required) description - Character. Description parameter mc_func - Character. Probability distribution from_variable - Character. Variable name data table, column name different mcnode transformation - Character. Transformation applied original column values sensi_analysis - Logical. Whether include sensitivity analysis","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/set_mctable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set or Get Monte Carlo Inputs Table — set_mctable","text":"","code":"# Get current MC table current_table <- set_mctable()  # Set new MC table mct <- data.frame(   mcnode = c(\"h_prev\", \"w_prev\"),   description = c(\"Herd prevalence\", \"Within herd prevalence\"),   mc_func = c(\"runif\", \"runif\"),   sensi_analysis = c(TRUE, TRUE) ) set_mctable(mct) #> Warning: The following columns were not specified and will be filled with default values: from_variable, transformation #> mctable set to structure(list(mcnode = c(\"h_prev\", \"w_prev\"), description = c(\"Herd prevalence\", \"Within herd prevalence\"), mc_func = c(\"runif\", \"runif\"), sensi_analysis = c(TRUE, TRUE), from_variable = c(NA, NA), transformation = c(NA, NA)), row.names = c(NA, -2L), class = \"data.frame\")"},{"path":"https://nataliaciria.github.io/mcmodule/reference/test_sensitivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Test Sensitivity Data — test_sensitivity","title":"Test Sensitivity Data — test_sensitivity","text":"dataset containing test sensitivity values two pathogens","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/test_sensitivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test Sensitivity Data — test_sensitivity","text":"","code":"test_sensitivity"},{"path":[]},{"path":"https://nataliaciria.github.io/mcmodule/reference/test_sensitivity.html","id":"test-sensitivity","dir":"Reference","previous_headings":"","what":"test_sensitivity","title":"Test Sensitivity Data — test_sensitivity","text":"data frame 2 rows 4 columns: pathogen Pathogen identifier (b) test_sensi_min Minimum test sensitivity value test_sensi_mode likely test sensitivity value test_sensi_max Maximum test sensitivity value","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/trial_totals.html","id":null,"dir":"Reference","previous_headings":"","what":"Trial Probability and Expected Counts — trial_totals","title":"Trial Probability and Expected Counts — trial_totals","text":"Calculates probabilities expected counts across hierarchical levels (trial, subset, set) structured population. Uses trial probabilities handles nested sampling conditional probabilities.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/trial_totals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trial Probability and Expected Counts — trial_totals","text":"","code":"trial_totals(   mcmodule,   mc_names,   trials_n,   subsets_n = NULL,   subsets_p = NULL,   name = NULL,   prefix = NULL,   combine_prob = TRUE,   all_suffix = NULL,   level_suffix = c(trial = \"trial\", subset = \"subset\", set = \"set\"),   mctable = set_mctable(),   agg_keys = NULL,   agg_suffix = \"agg\",   keep_variates = FALSE,   summary = TRUE )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/trial_totals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trial Probability and Expected Counts — trial_totals","text":"mcmodule mcmodule object containing input data node structure mc_names Vector node names process trials_n Trial count column name subsets_n Subset count column name (optional) subsets_p Subset prevalence column name (optional) name Custom name output nodes (optional) prefix Prefix output node names (optional) combine_prob Combine probability nodes assuming independence (default: TRUE) all_suffix Suffix combined node name (default: \"\") level_suffix list suffixes hierarchical level (default: c(trial=\"trial\",subset=\"subset\",set=\"set\")) mctable Data frame containing Monte Carlo nodes definitions (default: set_mctable()) agg_keys Column names aggregation (optional) agg_suffix Suffix aggregated node names (default: \"agg\") keep_variates whether preserve individual values (default: FALSE) summary Include summary statistics TRUE (default: TRUE)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/trial_totals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trial Probability and Expected Counts — trial_totals","text":"Updated mcmodule object containing: Combined node probabilities Probabilities counts trial level Probabilities counts subset level Probabilities counts set level","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/trial_totals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Trial Probability and Expected Counts — trial_totals","text":"","code":"imports_mcmodule <- trial_totals(   mcmodule = imports_mcmodule,   mc_names = \"no_detect_a\",   trials_n = \"animals_n\",   subsets_n = \"farms_n\",   subsets_p = \"h_prev\",   mctable = imports_mctable ) print(imports_mcmodule$node_list$no_detect_a_set$summary) #>           mc_name pathogen origin      mean          sd       Min      2.5% #> 1 no_detect_a_set        a   nord 0.3750450 0.020108413 0.3410136 0.3426586 #> 2 no_detect_a_set        a  south 0.2978174 0.064004187 0.1829532 0.1888451 #> 3 no_detect_a_set        a   east 0.6025875 0.045383047 0.5218729 0.5261802 #> 4 no_detect_a_set        b   nord 0.9875566 0.008070346 0.9689414 0.9704140 #> 5 no_detect_a_set        b  south 0.9594431 0.008275134 0.9437901 0.9446762 #> 6 no_detect_a_set        b   east 0.9668884 0.020678650 0.9177136 0.9230652 #>         25%       50%       75%     97.5%       Max  nsv Na's #> 1 0.3576956 0.3748559 0.3928853 0.4077016 0.4094812 1001    0 #> 2 0.2433367 0.3015970 0.3524411 0.3964220 0.4010001 1001    0 #> 3 0.5639605 0.6023181 0.6424667 0.6752938 0.6794225 1001    0 #> 4 0.9814800 0.9895902 0.9944236 0.9973534 0.9975015 1001    0 #> 5 0.9522929 0.9602068 0.9668934 0.9712431 0.9717516 1001    0 #> 6 0.9523051 0.9715396 0.9847453 0.9916434 0.9921812 1001    0"},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_edges.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate visNetwork Edge Table — visNetwork_edges","title":"Generate visNetwork Edge Table — visNetwork_edges","text":"Creates formatted edge table suitable visualization visNetwork.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_edges.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate visNetwork Edge Table — visNetwork_edges","text":"","code":"visNetwork_edges(mcmodule, inputs = FALSE)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_edges.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate visNetwork Edge Table — visNetwork_edges","text":"mcmodule mcmodule object inputs Include non-node inputs: data-sets, data-frames columns (optional)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_edges.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate visNetwork Edge Table — visNetwork_edges","text":"data frame containing edge information visNetwork","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_edges.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate visNetwork Edge Table — visNetwork_edges","text":"","code":"if (FALSE) { # \\dontrun{ vis_edges <- visNetwork_edges(imports_mcmodule) } # }"},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_nodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Network Node Table for Visualization — visNetwork_nodes","title":"Generate Network Node Table for Visualization — visNetwork_nodes","text":"Creates formatted node table visualization visNetwork. Includes styling formatting network visualization.","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_nodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Network Node Table for Visualization — visNetwork_nodes","text":"","code":"visNetwork_nodes(   mcmodule,   variate = 1,   color_pal = NULL,   color_by = NULL,   inputs = FALSE )"},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_nodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Network Node Table for Visualization — visNetwork_nodes","text":"mcmodule mcmodule object containing network structure variate Integer specifying variate extract (default: 1) color_pal Custom color palette nodes (optional) color_by Column name determine node colors (optional) inputs Include non-node inputs: data-sets, data-frames columns (optional)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_nodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Network Node Table for Visualization — visNetwork_nodes","text":"data frame formatted visNetwork columns: id: Unique node identifier color: Node color based type/category grouping: Module association expression: Node expression type title: Hover text containing node details","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/visNetwork_nodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Network Node Table for Visualization — visNetwork_nodes","text":"","code":"if (FALSE) { # \\dontrun{ nodes_df <- visNetwork_nodes(mcmodule=imports_mcmodule) } # }"},{"path":"https://nataliaciria.github.io/mcmodule/reference/wif_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Match Datasets With Differing Scenarios — wif_match","title":"Match Datasets With Differing Scenarios — wif_match","text":"Matches datasets group preserves baseline scenarios (scenario_id=0) scenarios differ .","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/wif_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match Datasets With Differing Scenarios — wif_match","text":"","code":"wif_match(x, y, by = NULL)"},{"path":"https://nataliaciria.github.io/mcmodule/reference/wif_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match Datasets With Differing Scenarios — wif_match","text":"x First dataset match y Second dataset match Grouping variable(s) match , defaults \"hg\" (homogeneous groups)","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/wif_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match Datasets With Differing Scenarios — wif_match","text":"List containing matched datasets aligned scenario IDs: First element: matched version dataset x Second element: matched version dataset y","code":""},{"path":"https://nataliaciria.github.io/mcmodule/reference/wif_match.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match Datasets With Differing Scenarios — wif_match","text":"","code":"x <- data.frame(   category = c(\"a\", \"b\", \"a\", \"b\"),   scenario_id = c(0, 0, 1, 1),   hg = c(1, 2, 1, 2),   value = 1:4 )  y <- data.frame(   category = c(\"a\", \"b\", \"a\", \"b\"),   scenario_id = c(0, 0, 2, 2),   hg = c(1, 2, 1, 2),   value = 5:8 )  # Automatic matching result <- wif_match(x, y) #> Group by: category #> From 4 rows (2 groups, 2 scenarios) and 4 rows (2 groups, 2 scenarios), to 6 rows (2 groups, 3 scenarios)"},{"path":"https://nataliaciria.github.io/mcmodule/news/index.html","id":"mcmodule-development-version","dir":"Changelog","previous_headings":"","what":"mcmodule (development version)","title":"mcmodule (development version)","text":"Initial CRAN submission.","code":""}]
