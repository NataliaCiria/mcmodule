% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mc_plot.R
\name{mc_plot}
\alias{mc_plot}
\title{Plot Monte Carlo Node with Boxplot and Points}
\usage{
mc_plot(
  mcmodule = NULL,
  mc_name = NULL,
  mcnode = NULL,
  data = NULL,
  keys_names = NULL,
  color_by = NULL,
  order_by = NULL,
  group_by = NULL,
  filter = NULL,
  threshold = NULL,
  scale = NULL,
  max_dots = 300,
  point_alpha = 0.4,
  boxplot_alpha = 0.3,
  color_pal = NULL
)
}
\arguments{
\item{mcmodule}{An mcmodule object containing the node (optional if mcnode provided)}

\item{mc_name}{Character string specifying the name of the mcnode in the module (optional)}

\item{mcnode}{An mcnode object to plot directly (optional if mcmodule and mc_name provided)}

\item{data}{Optional data frame containing the input data}

\item{keys_names}{Vector of column names to use as key columns for grouping (optional).
If NULL, will use node keys from the module or use row index}

\item{color_by}{Optional column name to color points and boxplot by (must be in keys_names or data)}

\item{order_by}{Optional column name or "median" to reorder y-axis groups by a value.
If "median", groups will be ordered by median value}

\item{group_by}{Optional column name to group variates by (e.g., "country_code" or "commodity").
When specified, variates are organized with all scenarios for each group appearing together.
For example, with group_by="commodity", y-axis shows labels like
\code{scenario 0 | commodity 1} and \code{scenario a | commodity 1}.}

\item{filter}{Optional expression to filter variates before plotting. Should be an unquoted
expression that evaluates to a logical vector, e.g., \code{pathogen == "a"} or
\code{pathogen == "a" | origin == "nord"}. Passed to \code{tidy_mcnode()}.}

\item{threshold}{Optional numeric value to add a vertical reference line}

\item{scale}{Optional transformation for x-axis. Supported values:
\itemize{
\item "identity": no transformation (default)
\item "log10": logarithm base 10
\item "log": natural logarithm
\item "sqrt": square root
\item "asinh": inverse hyperbolic sine (good for data spanning many orders of magnitude)
}}

\item{max_dots}{Maximum number of uncertainty simulation dots to plot per variate. If exceeded,
representative sampling using regular intervals is applied (default: 300). Boxplots always
use all simulations for statistical accuracy.}

\item{point_alpha}{Transparency level for points (0-1, default: 0.4)}

\item{boxplot_alpha}{Transparency level for boxplot (0-1, default: 0.3)}

\item{color_pal}{Optional named character vector of colors for color_by categories}
}
\value{
A ggplot2 object
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}
Creates a ggplot visualization of Monte Carlo node data with semitransparent
boxplots overlaid with scattered points representing individual iterations.
}
\details{
When \code{color_by} is NULL, scenarios are colored with:
\itemize{
\item Baseline scenario (scenario_id == "0"): blue ("#6ABDEB")
\item Alternative scenarios: green ("#A4CF96")
}
}
\examples{
# Basic plot using mcmodule and mc_name
mc_plot(imports_mcmodule, "w_prev")

# Plot with custom coloring and ordering
mc_plot(imports_mcmodule, "w_prev",
  color_by = "origin",
  order_by = "median"
)

# Plot with threshold and scale transformation
mc_plot(imports_mcmodule, "no_detect_a",
  threshold = 0.5,
  scale = "log10"
)

}
