% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mc_filter.R
\name{mc_filter}
\alias{mc_filter}
\title{Filter an mcnode object}
\usage{
mc_filter(
  mcmodule = NULL,
  mc_name = NULL,
  ...,
  data = NULL,
  mcnode = NULL,
  name = NULL,
  prefix = NULL,
  filter_suffix = "filtered",
  summary = TRUE
)
}
\arguments{
\item{mcmodule}{An mcmodule object containing the node to filter (default: NULL)}

\item{mc_name}{Character string specifying the name of the mcnode in the module (default: NULL)}

\item{...}{Logical conditions to filter by (similar to dplyr::filter)}

\item{data}{Optional data frame containing the input data (default: NULL)}

\item{mcnode}{Optional mcnode object to filter directly (default: NULL)}

\item{name}{Optional name for the new filtered node when adding to mcmodule (default: NULL)}

\item{prefix}{Optional prefix for the filtered node name (default: NULL)}

\item{filter_suffix}{Suffix for the filtered node name (default: "filtered")}

\item{summary}{Logical; if TRUE, includes summary statistics (default: TRUE)}
}
\value{
Either:
\itemize{
\item An updated mcmodule with a new filtered node (when mcmodule and name are provided)
\item A raw filtered mcnode object (when only data and mcnode are provided)
}
}
\description{
Filters an mcnode within an mcmodule based on conditions, similar to dplyr::filter().
Can either create a new node in the mcmodule (when mcmodule and name are provided)
or return a raw filtered mcnode (when only data and mcnode are provided).
}
\details{
This function can be called in two ways:
\enumerate{
\item By providing an mcmodule and mc_name to create a new filtered node in the module
\item By providing data and mcnode directly to return a raw filtered mcnode
}

The filter conditions work on the data associated with the mcnode, and only
variates (rows) matching the conditions are kept in the resulting mcnode.
}
\examples{
# Filter within an mcmodule and create new node
imports_mcmodule <- mc_filter(
  imports_mcmodule,
  "w_prev",
  origin == "Country A",
  name = "w_prev_countryA"
)

# Filter and return raw mcnode (note: conditions before named args)
w_prev <- imports_mcmodule$node_list$w_prev$mcnode
w_prev_filtered <- mc_filter(
  origin == "Country A",
  data = imports_data,
  mcnode = w_prev
)

# Multiple filter conditions
imports_mcmodule <- mc_filter(
  imports_mcmodule,
  "w_prev",
  origin == "Country A",
  pathogen == "virus",
  name = "w_prev_countryA_virus"
)
}
